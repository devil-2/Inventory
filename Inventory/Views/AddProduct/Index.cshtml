@model Inventory.Models.Product
@{
    if (ViewBag.count == "editproduct") { ViewBag.Title = ":: Update Product ::"; }
    else { ViewBag.Title = ":: Add Product ::"; }
    Layout = "~/Views/Shared/MainMaster.cshtml";
    var sno = 0;
}

@section css{
    <!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- iCheck -->
    <link href="../vendors/iCheck/skins/flat/green.css" rel="stylesheet">
    <!-- bootstrap-progressbar -->
    <link href="../vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
    <!-- JQVMap -->
    <link href="../vendors/jqvmap/dist/jqvmap.min.css" rel="stylesheet" />
    <!-- bootstrap-daterangepicker -->
    <link href="../vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="~/build/css/custom.min.css" rel="stylesheet">

    <!--- Tabs in Graph Section ---->
    <link href="~/Scripts/css/reset.css" rel="stylesheet" />
    <link href="~/Scripts/css/dashboardstyles.css" rel="stylesheet" />
    <script src="~/vendors/jquery/dist/jquery.min.js"></script>
}
@if (ViewBag.count == "addproduct")
{
    <div class="right_col" role="main">
        <div class="container">
            <form method="post" enctype="multipart/form-data">
                <div class="row">
                    <div class="col-xs-12 col-md-12">
                        <div class="row">
                            <div class="col-xs-12 col-md-12">
                                <div class="row">
                                    <div class="col-xs-12 col-md-12 form-title">Product Master</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 col-md-9">
                        <div class="row">
                            <div class="col-md-7">
                                <div class="row">
                                    <div class="form-group col-xs-12  col-md-6">
                                        @*<input type="text" class="form-control" placeholder="Product Name">*@
                                        @Html.TextBoxFor(Model => Model.product_name, new { @class = "form-control", placeholder = "Product Name", required = "required", autofocus = "autofocus" })
                                    </div>
                                    <div class="form-group col-xs-12 col-md-6">
                                        @*<input type="text" class="form-control" placeholder="Batch Number">*@
                                        @Html.TextBoxFor(Model => Model.batch_number, new { @class = "form-control", placeholder = "Batch Number", required = "required" })
                                    </div>
                                    @*<div class="form-group col-xs-12 col-md-6">
                                            <input type="text" class="form-control" placeholder="Product ID">
                                        </div>*@
                                </div>
                                <div class="row">
                                    <div class="form-group col-xs-12 col-md-6">
                                        <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                        @*<input type="text" class="form-control selected-position" placeholder="Brand Name">*@
                                        @Html.TextBoxFor(Model => Model.brand, new { @class = "form-control selected-position", placeholder = "Brand Name", required = "required" })
                                        <div class="display-positions">
                                            <div class="positions1 position">
                                                <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Brand</span><i class="fa fa-times" aria-hidden="true"></i>
                                            </div>
                                            <div id="allbrands">
                                                @if (ViewBag.brands.Count != 0)
                                                {
                                                    foreach (var item in ViewBag.brands)
                                                    {
                                                        <div class="positions1"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delbrand',@item.brand_id)" aria-hidden="true"></i>@item.brand</div>
                                                    }
                                                }
                                            </div>

                                        </div>
                                        <div class="row add-position">
                                            <div class="row">
                                                <input type="text" class="form-control" placeholder="Enter Brand" id="addnewbrand">
                                                <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addbrand"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                            </div>
                                            <div class="row positions"></div>
                                        </div>
                                        @*<input type="text" class="form-control" placeholder="Brand Name">*@
                                    </div>
                                    <div class="form-group col-xs-12 col-md-6">
                                        @*<i class="fa fa-sort-desc" aria-hidden="true"></i>*@
                                        @*<input type="text" class="form-control selected-position" placeholder="Model Number">*@
                                        @Html.TextBoxFor(Model => Model.model, new { @class = "form-control selected-position", placeholder = "Model Name", required = "required" })
                                        @*<div class="display-positions">
                                                <div class="positions1 position">
                                                    <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Model</span><i class="fa fa-times" aria-hidden="true"></i>
                                                </div>
                                                <div id="subbrands"></div>
                                            </div>
                                            <div class="row add-position">
                                                <div class="row">
                                                    <input type="text" class="form-control" placeholder="Enter Model" id="addnewmodel">
                                                    <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addmodel"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                    <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                                </div>
                                                <div class="row positions"></div>
                                            </div>*@
                                        @*<input type="text" class="form-control" placeholder="Model Number">*@
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-xs-12 col-md-6">
                                        <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                        @*<input type="text" class="form-control selected-position" placeholder="Category">*@
                                        @Html.TextBoxFor(Model => Model.category, new { @class = "form-control selected-position", placeholder = "Category" })
                                        <div class="display-positions">
                                            <div class="positions1 position">
                                                <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Category</span><i class="fa fa-times" aria-hidden="true"></i>
                                            </div>
                                            <div id="allcategories">
                                                @if (ViewBag.categories.Count != 0)
                                                {
                                                    foreach (var item in ViewBag.categories)
                                                    {
                                                        <div class="positions1" onclick="getsub('category','@item.category_id')"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delcategory',@item.category_id)" aria-hidden="true"></i>@item.category</div>
                                                    }
                                                }
                                            </div>
                                        </div>
                                        <div class="row add-position">
                                            <div class="row">
                                                <input type="text" class="form-control" placeholder="Enter Category" id="addnewcategory">
                                                <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addcategory"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                            </div>
                                            <div class="row positions"></div>
                                        </div>
                                    </div>
                                    <div class="form-group col-xs-12 col-md-6">
                                        <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                        @*<input type="text" class="form-control selected-position" placeholder="Sub Category">*@
                                        @Html.TextBoxFor(Model => Model.sub_category, new { @class = "form-control selected-position", placeholder = "Sub Category" })
                                        <div class="display-positions">
                                            <div class="positions1 position">
                                                <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Sub Category</span><i class="fa fa-times" aria-hidden="true"></i>
                                            </div>
                                            <div id="subcategories"></div>
                                        </div>
                                        <div class="row add-position">
                                            <div class="row">
                                                <input type="text" class="form-control" placeholder="Enter Sub Category" id="addnewsubcategory"><input type="hidden" id="selectedcategoryid" />
                                                <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addsubcategory"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                            </div>
                                            <div class="row positions"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row text-left">
                                    <div class="form-group col-xs-6 col-md-3">
                                        <label>Cost Price</label>
                                        @*<input type="text" class="form-control" placeholder="Cost Price" value="0">*@
                                        @Html.TextBoxFor(Model => Model.cost_price, new { @class = "form-control", placeholder = "Cost Price", required = "required" })
                                    </div>
                                    <div class="form-group col-xs-6 col-md-3">
                                        <label>Selling Price</label>
                                        @*<input type="text" class="form-control" placeholder="Selling Price" value="0">*@
                                        @Html.TextBoxFor(Model => Model.selling_price, new { @class = "form-control", placeholder = "Selling Price", Value = "0" })
                                    </div>
                                    @*<div class="form-group col-xs-6 col-md-3">
                                            <label>Tax(%)</label>
                                            @*<input type="text" class="form-control" placeholder="Tax" value="0">
                                            @Html.TextBoxFor(Model => Model.tax, new { @class = "form-control", placeholder = "Tax", Value = "0" })
                                        </div>*@
                                    <div class="form-group col-xs-6 col-md-3 tax">
                                        <label>Tax (%)</label>
                                        <label class="switch">
                                            <input type="checkbox" id="checkbox1">
                                            <div class="slider"></div>
                                        </label>
                                        <input type="text" id="tax" name="tax" class="form-control" placeholder="Tax" value="0" readonly>
                                    </div>
                                    <div class="form-group col-xs-6 col-md-2">
                                        <label>Discount(%)</label>
                                        @*<input type="text" class="form-control" placeholder="Discount" value="0">*@
                                        @Html.TextBoxFor(Model => Model.discount, new { @class = "form-control", placeholder = "Discount", Value = "0" })
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-xs-6 col-md-3">
                                        <label>Shipping</label>
                                        @*<input type="text" class="form-control" placeholder="Shipping" value="0">*@
                                        @Html.TextBoxFor(Model => Model.shipping_price, new { @class = "form-control", placeholder = "Shipping", Value = "0" })
                                    </div>
                                    <div class="form-group col-xs-6 col-md-9">
                                        <label>Total</label>
                                        @*<input type="text" class="form-control" placeholder="Total">*@
                                        @Html.TextBoxFor(Model => Model.total_price, new { @class = "form-control", placeholder = "Total" })
                                        <span>(Selling price + Tax + Shipping - Discount)</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-xs-12 col-md-3">
                                        @*<input type="text" class="form-control" placeholder="Measurement">*@
                                        @Html.TextBoxFor(Model => Model.Measurement, new { @class = "form-control", placeholder = "Measurement", required = "required" })
                                    </div>
                                    <div class="form-group col-xs-12 col-md-3">
                                        <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                        @*<input type="text" class="form-control selected-position" placeholder="Weight">*@
                                        @Html.TextBoxFor(Model => Model.weight, new { @class = "form-control selected-position", placeholder = "Weight" })
                                        <div class="display-positions">
                                            <div class="positions1 position">
                                                <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Weight</span><i class="fa fa-times" aria-hidden="true"></i>
                                            </div>
                                            <div id="allweights">
                                                @if (ViewBag.weights.Count != 0)
                                                {
                                                    foreach (var item in ViewBag.weights)
                                                    {
                                                        <div class="positions1"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delweight',@item.weight_id)" aria-hidden="true"></i>@item.weight</div>
                                                    }
                                                }
                                            </div>
                                        </div>
                                        <div class="row add-position">
                                            <div class="row">
                                                <input type="text" class="form-control" placeholder="Enter Weight" id="addnewweight">
                                                <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addweight"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                            </div>
                                            <div class="row positions"></div>
                                        </div>
                                    </div>
                                    <div class="form-group col-xs-12 col-md-3">
                                        <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                        @*<input type="text" class="form-control selected-position" placeholder="Sizes">*@
                                        @Html.TextBoxFor(Model => Model.size, new { @class = "form-control selected-position", placeholder = "Sizes" })
                                        <div class="display-positions">
                                            <div class="positions1 position">
                                                <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Sizes</span><i class="fa fa-times" aria-hidden="true"></i>
                                            </div>
                                            <div id="allsizes">
                                                @if (ViewBag.sizes.Count != 0)
                                                {
                                                    foreach (var item in ViewBag.sizes)
                                                    {
                                                        <div class="positions1"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delsize',@item.size_id)" aria-hidden="true"></i>@item.size</div>
                                                    }
                                                }
                                            </div>
                                        </div>
                                        <div class="row add-position">
                                            <div class="row">
                                                <input type="text" class="form-control" placeholder="Enter Size" id="addnewsize">
                                                <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addsize"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                            </div>
                                            <div class="row positions"></div>
                                        </div>
                                    </div>
                                    <div class="form-group col-xs-12 col-md-3">
                                        <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                        @*<input type="text" class="form-control selected-position" placeholder="Colors">*@
                                        @Html.TextBoxFor(Model => Model.color, new { @class = "form-control selected-position", placeholder = "Colors" })
                                        <div class="display-positions">
                                            <div class="positions1 position">
                                                <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Colors</span><i class="fa fa-times" aria-hidden="true"></i>
                                            </div>
                                            <div id="allcolors">
                                                @if (ViewBag.colors.Count != 0)
                                                {
                                                    foreach (var item in ViewBag.colors)
                                                    {
                                                        <div class="positions1"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delcolor',@item.color_id)" aria-hidden="true"></i>@item.color</div>
                                                    }
                                                }
                                            </div>
                                        </div>
                                        <div class="row add-position">
                                            <div class="row">
                                                <input type="text" class="form-control" placeholder="Enter Color" id="addnewcolor">
                                                <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addcolor"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                            </div>
                                            <div class="row positions"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group col-xs-12 col-md-12">
                                        <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                        @*<input type="text" class="form-control selected-position" placeholder="Item Shape">*@
                                        @Html.TextBoxFor(Model => Model.item_shape, new { @class = "form-control selected-position", placeholder = "Item Shape" })
                                        <div class="display-positions">
                                            <div class="positions1 position">
                                                <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Item Shape</span><i class="fa fa-times" aria-hidden="true"></i>
                                            </div>
                                            <div id="allitemshapes">
                                                @if (ViewBag.itemshapes.Count != 0)
                                                {
                                                    foreach (var item in ViewBag.itemshapes)
                                                    {
                                                        <div class="positions1"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delitemshape','@item.itemshape_id')" aria-hidden="true"></i>@item.itemshape</div>
                                                    }
                                                }
                                            </div>
                                        </div>
                                        <div class="row add-position">
                                            <div class="row">
                                                <input type="text" class="form-control" placeholder="Enter Item Shape" id="addnewitemshape">
                                                <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="additemshape"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                            </div>
                                            <div class="row positions"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="form-group radio col-xs-4 col-md-4">
                                        <label>
                                            @*@Html.RadioButtonFor(Model=>Model.product_consumable, "Consumable",new { @class="consumable"})*@
                                            @*<input type="radio" name="product_consumable" class="consumable" id="product_consumable">*@
                                            Consumable
                                        </label>
                                    </div>
                                    <div class="form-group radio col-xs-4 col-md-4">
                                        <label class="switch toggle-consumable">
                                            <input type="checkbox" id="checkbox1">
                                            <div class="slider"></div>
                                        </label>
                                    </div>
                                    <div class="form-group radio col-xs-4 col-md-4">
                                        <label>
                                            @Html.HiddenFor(Model => Model.product_consumable, new { Value = "Non-Consumable" })
                                            @*@Html.RadioButtonFor(Model => Model.product_consumable, "Non-Consumable", new { @class = "non-consumable" })*@
                                            @*<input type="radio" name="product_consumable" class="non-consumable" id="product_consumable">*@
                                            Non-Consumable
                                        </label>
                                    </div>
                                </div>
                                <div class="row veg-non">
                                    <div class="form-group radio col-xs-4 col-md-4">
                                        <label class="veg">
                                            @*@Html.RadioButtonFor(Model => Model.product_type, "Veg")*@
                                            @*<input type="radio" name="optradio1" id="product_type">*@
                                            Veg
                                        </label>
                                    </div>
                                    <div class="form-group radio col-xs-4 col-md-4">
                                        <label class="switch veg-non">
                                            <input type="checkbox" id="checkbox1">
                                            <div class="slider"></div>
                                        </label>
                                    </div>
                                    <div class="form-group radio col-xs-4 col-md-4">
                                        <label class="non-veg">
                                            @Html.HiddenFor(Model => Model.product_type, new { Value = "Non-Veg" })
                                            @*@Html.RadioButtonFor(Model => Model.product_type, "Non-Veg")*@
                                            @*<input type="radio" name="optradio1" id="product_type">*@
                                            Non-Veg
                                        </label>
                                    </div>
                                </div>
                                <div class="row perishable-non">
                                    <div class="form-group radio col-xs-4 col-md-4">
                                        <label class="Perishable">
                                            @Html.HiddenFor(Model => Model.product_perishability, new { Value = "Non-Perishable" })
                                            @*@Html.RadioButtonFor(Model => Model.product_perishability, "Perishable")*@
                                            @*<input type="radio" name="optradio2" id="product_perishability">*@
                                            Perishable
                                        </label>
                                    </div>
                                    <div class="form-group radio col-xs-4 col-md-4">
                                        <label class="switch perishable-non">
                                            <input type="checkbox" id="checkbox1">
                                            <div class="slider"></div>
                                        </label>
                                    </div>
                                    <div class="form-group radio col-xs-4 col-md-4">
                                        <label class="Non-Perishable">
                                            @*@Html.RadioButtonFor(Model => Model.product_perishability, "Non-Perishable")*@
                                            @*<input type="radio" name="optradio2" id="product_perishability">*@
                                            Non-Perishable
                                        </label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <div class="form-group ">
                                            <label class="col-sm-3" for="date"> Expiry Date </label>
                                            <div class="col-sm-9">
                                                <div class="input-group">
                                                    <div class="input-group-addon"> <i class="fa fa-calendar"> </i> </div>
                                                    @*<input class="form-control" id="date" name="date" placeholder="MM/DD/YYYY" type="text" />*@
                                                    @Html.TextBoxFor(Model => Model.product_expirydate, new { @class = "form-control", placeholder = "MM/DD/YYYY" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="row">
                                    <div class="col-md-12 admin-product-image"> <img src="images/default_product.png" alt="Product" /> </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <button type="button" class="btn btn-primary btn-xs pull-right add-popup"><i class="fa fa-plus-circle" aria-hidden="true"></i>Image</button>
                                    </div>
                                </div>
                                <div class="row image-library">
                                    <ul class="col-md-12 tabs">
                                        <li class="tab-1"><a>Upload Images</a></li>
                                        <li class="tab-2"><a>Library</a></li>
                                        <i class="fa fa-times pull-right" aria-hidden="true"></i>
                                    </ul>
                                    <ul class="col-md-12 tabs-content">
                                        @*<li class="tab-1" id="tab-1">
                                                <button type="button" id="btnupload" onclick="javascript: document.getElementById('fileUpload').click();" class="btn">Upload Here</button>

                                                <input type='file' multiple="multiple" accept="image/*" id='fileUpload' name="file" />
                                                <div id="dvPreview" align="center" style="padding:30px">
                                            </li>*@
                                        <li class="tab-1" id="tab-1">
                                            <button type="button" class="btn" onclick="javascript: document.getElementById('fileUpload').click();">Upload Here</button>
                                            <input type="file" multiple="multiple" accept="image/*" id='fileUpload' name="file" style="display:none">
                                            <div class="row" id="dvPreview">
                                                @*<div class="col-xs-12 col-md-12">
                                                        <ul class="upload-thumbs">
                                                            <li><img src="images/1.jpg" alt="1" /></li>
                                                            <li><img src="images/2.jpg" alt="2" /></li>
                                                            <li><img src="images/3.jpg" alt="3" /></li>
                                                            <li><img src="images/4.jpg" alt="4" /></li>
                                                            <li><img src="images/5.jpg" alt="5" /></li>
                                                            <li><img src="images/6.jpg" alt="6" /></li>
                                                            <li><img src="images/1.jpg" alt="1" /></li>
                                                            <li><img src="images/2.jpg" alt="2" /></li>
                                                            <li><img src="images/3.jpg" alt="3" /></li>
                                                            <li><img src="images/4.jpg" alt="4" /></li>
                                                            <li><img src="images/5.jpg" alt="5" /></li>
                                                            <li><img src="images/6.jpg" alt="6" /></li>
                                                        </ul>
                                                    </div>*@
                                            </div>
                                        </li>
                                        <li class="tab-2" id="tab-2">
                                            @Html.HiddenFor(m => m.product_images)
                                            <ul>
                                                <li>
                                                    <input type="checkbox" name="checkbox" class="libselection">
                                                    <img src="images/1.jpg" alt="Image one" />
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="checkbox" class="libselection">
                                                    <img src="images/2.jpg" alt="Image Two" />
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="checkbox" class="libselection">
                                                    <img src="images/3.jpg" alt="Image Three" />
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="checkbox" class="libselection">
                                                    <img src="images/4.jpg" alt="Image Four" />
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="checkbox" class="libselection">
                                                    <img src="images/5.jpg" alt="Image Five" />
                                                </li>
                                                <li>
                                                    <input type="checkbox" name="checkbox" class="libselection">
                                                    <img src="images/6.jpg" alt="Image Six" />
                                                </li>
                                            </ul>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <button type="button" class="btn pull-right cancel"><i class="fa fa-times" aria-hidden="true"></i>Close</button>
                                                    <button type="button" class="btn btn-primary pull-right" id="add-image"><i class="fa fa-plus-circle" aria-hidden="true"></i>Add</button>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>

                                </div>
                                <div class="row">
                                    <ul class="col-md-12 admin-product-thumbs"></ul>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-xs-12 col-md-12">
                                @*<textarea class="form-control" rows="5" id="comment" placeholder="Product Description"></textarea>*@
                                @Html.TextAreaFor(Model => Model.product_description, new { @class = "form-control", placeholder = "Product Description", rows = "5" })
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-12">
                                <label>Add Tags<span>(Seperated by Comma)</span></label>
                                <ul id="myTags"></ul>
                                @Html.HiddenFor(Model => Model.product_tags)
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-md-2 pull-right">
                                @*<button type="button" class="btn cancel"><i class="fa fa-times" aria-hidden="true"></i>Close</button>*@
                                <a href="~/AllProducts" class="btn-default btn cancel"><i class="fa fa-times" aria-hidden="true"></i>Cancel</a>
                            </div>
                            <div class="col-xs-12 col-md-2 pull-right">
                                <button type="submit" class="btn btn-primary" name="command" value="AddProduct" id="btnAddProduct"><i class="fa fa-plus-circle" aria-hidden="true"></i>Add Product</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-3">
                        <div class="row">
                            <div class="col-xs-12 col-md-12 add-product-right">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Sno</th>
                                            <th>Ware House</th>
                                            <th>Quantity in Hand</th>
                                            <th>Re-Order Level</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @if (ViewBag.AvailableWarehouses != null)
                                        {
                                            //foreach (var item in ViewBag.AvailableWarehouses)
                                            for (int i = 0; i < ViewBag.AvailableWarehouses.Count; i++)
                                            {
                                                <tr>
                                                    <td>@(++sno)</td>
                                                    <td>@ViewBag.AvailableWarehouses[i].wh_Shortname</td>
                                                    <td>
                                                        <div class="form-group col-xs-12  col-md-12">
                                                            @*col-md-7 col-md-push-2*@
                                                            @*<input type="text" id="txtqty @sno" class="form-control" placeholder="Quantity in Hand" value="0">*@
                                                            @Html.TextBoxFor(Model => Model.Quantity_Qty[i], new { @Value = "0", @class = "form-control", placeholder = "Quantity in Hand" })
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="form-group col-xs-12 col-md-12">
                                                            @Html.TextBoxFor(Model => Model.Reorder_level[i], new { @Value = "0", @class = "form-control modified", placeholder = "Quantity1 in Hand" })
                                                            @*<input type="text" class="form-control modified" placeholder="Quantity in Hand" value="0">*@
                                                        </div>
                                                    </td>
                                                </tr>

                                            }
                                        }

                                        @if (ViewBag.AvailableQty != null)
                                        {
                                            //foreach (var item in ViewBag.AvailableWarehouses)
                                            for (int i = 0; i < ViewBag.AvailableQty.Count; i++)
                                            {
                                                <tr>
                                                    <td>@(++sno)</td>
                                                    <td>@ViewBag.AvailableQty[i].Quantity_area</td>
                                                    <td>
                                                        <div class="form-group col-xs-12  col-md-12">
                                                            @*col-md-7 col-md-push-2*@
                                                            @*<input type="text" id="txtqty @sno" class="form-control" placeholder="Quantity in Hand" value="0">*@
                                                            @Html.TextBoxFor(Model => Model.Quantity_Qty[i], new { Value = ViewBag.AvailableQty[i].Qty_Stock, @class = "form-control", placeholder = "Quantity in Hand" })
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="form-group col-xs-12 col-md-12">
                                                            @Html.TextBoxFor(Model => Model.Reorder_level[i], new { @Value = ViewBag.AvailableQty[i].Qty_Reorder, @class = "form-control modified", placeholder = "Quantity1 in Hand" })
                                                            @*<input type="text" class="form-control modified" placeholder="Quantity in Hand" value="0">*@
                                                        </div>
                                                    </td>
                                                </tr>

                                            }
                                        }

                                        <tr>
                                            <td></td>
                                            <td>Total</td>
                                            <td colspan="2">
                                                <div class="form-group col-xs-12 col-md-12">
                                                    @*<input type="text" class="form-control" placeholder="Total Quantity in Hand">*@
                                                    @Html.TextBoxFor(Model => Model.Quantity_Total, new { @Value = "0", @class = "form-control", placeholder = "Total Quantity in Hand" })
                                                </div>
                                            </td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                </div>
            </form>
        </div>
    </div>
}
@if (ViewBag.count == "editproduct") //Editting Product
{
    <div class="right_col" role="main">
        <div class="container">
            <form method="post" enctype="multipart/form-data">
                <div class="row">
                    <div class="col-xs-12 col-md-12">
                        <div class="row">
                            <div class="col-xs-12 col-md-12">
                                <div class="row">
                                    <div class="col-xs-12 col-md-12 form-title">Update Product</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                @foreach (var particularproduct in ViewBag.product)
                {
                    <div class="row">
                        <div class="col-xs-12 col-md-9">
                            <div class="row">
                                <div class="col-md-7">
                                    <div class="row">
                                        <div class="form-group col-xs-12  col-md-6">
                                            @*<input type="text" class="form-control" placeholder="Product Name">*@
                                            @Html.TextBoxFor(Model => Model.product_name, new { @class = "form-control", placeholder = "Product Name", required = "required", autofocus = "autofocus", Value = particularproduct.product_name, @readonly = "true" })
                                        </div>
                                        <div class="form-group col-xs-12 col-md-6">
                                            @*<input type="text" class="form-control" placeholder="Batch Number">*@
                                            @Html.TextBoxFor(Model => Model.batch_number, new { @class = "form-control", placeholder = "Batch Number", required = "required", Value = particularproduct.batch_number, @readonly = "true" })
                                        </div>
                                        @*<div class="form-group col-xs-12 col-md-6">
                                                <input type="text" class="form-control" placeholder="Product ID">
                                            </div>*@
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-md-6">
                                            <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                            @*<input type="text" class="form-control selected-position" placeholder="Brand Name">*@
                                            @Html.TextBoxFor(Model => Model.brand, new { @class = "form-control", placeholder = "Brand Name", required = "required", Value = particularproduct.brand, @readonly = "true" })
                                            <div class="display-positions">
                                                <div class="positions1 position">
                                                    <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Brand</span><i class="fa fa-times" aria-hidden="true"></i>
                                                </div>
                                                <div id="allbrands">
                                                    @if (ViewBag.brands.Count != 0)
                                                    {
                                                        foreach (var item in ViewBag.brands)
                                                        {
                                                            <div class="positions1"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delbrand',@item.brand_id)" aria-hidden="true"></i>@item.brand</div>
                                                        }
                                                    }
                                                </div>

                                            </div>
                                            <div class="row add-position">
                                                <div class="row">
                                                    <input type="text" class="form-control" placeholder="Enter Brand" id="addnewbrand">
                                                    <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addbrand"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                    <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                                </div>
                                                <div class="row positions"></div>
                                            </div>
                                            @*<input type="text" class="form-control" placeholder="Brand Name">*@
                                        </div>
                                        <div class="form-group col-xs-12 col-md-6">
                                            @*<i class="fa fa-sort-desc" aria-hidden="true"></i>*@
                                            @*<input type="text" class="form-control selected-position" placeholder="Model Number">*@
                                            @Html.TextBoxFor(Model => Model.model, new { @class = "form-control selected-position", placeholder = "Model Name", required = "required", Value = particularproduct.model, @readonly = "true" })
                                            @*<div class="display-positions">
                                                    <div class="positions1 position">
                                                        <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Model</span><i class="fa fa-times" aria-hidden="true"></i>
                                                    </div>
                                                    <div id="subbrands"></div>
                                                </div>
                                                <div class="row add-position">
                                                    <div class="row">
                                                        <input type="text" class="form-control" placeholder="Enter Model" id="addnewmodel">
                                                        <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addmodel"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                        <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                                    </div>
                                                    <div class="row positions"></div>
                                                </div>*@
                                            @*<input type="text" class="form-control" placeholder="Model Number">*@
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-md-6">
                                            <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                            @*<input type="text" class="form-control selected-position" placeholder="Category">*@
                                            @Html.TextBoxFor(Model => Model.category, new { @class = "form-control selected-position", placeholder = "Category", Value = particularproduct.category })
                                            <div class="display-positions">
                                                <div class="positions1 position">
                                                    <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Category</span><i class="fa fa-times" aria-hidden="true"></i>
                                                </div>
                                                <div id="allcategories">
                                                    @if (ViewBag.categories.Count != 0)
                                                    {
                                                        foreach (var item in ViewBag.categories)
                                                        {
                                                            <div class="positions1" onclick="getsub('category','@item.category_id')"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delcategory',@item.category_id)" aria-hidden="true"></i>@item.category</div>
                                                        }
                                                    }
                                                </div>
                                            </div>
                                            <div class="row add-position">
                                                <div class="row">
                                                    <input type="text" class="form-control" placeholder="Enter Category" id="addnewcategory">
                                                    <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addcategory"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                    <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                                </div>
                                                <div class="row positions"></div>
                                            </div>
                                        </div>
                                        <div class="form-group col-xs-12 col-md-6">
                                            <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                            @*<input type="text" class="form-control selected-position" placeholder="Sub Category">*@
                                            @Html.TextBoxFor(Model => Model.sub_category, new { @class = "form-control selected-position", placeholder = "Sub Category", Value = particularproduct.sub_category })
                                            <div class="display-positions">
                                                <div class="positions1 position">
                                                    <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Sub Category</span><i class="fa fa-times" aria-hidden="true"></i>
                                                </div>
                                                <div id="subcategories"></div>
                                            </div>
                                            <div class="row add-position">
                                                <div class="row">
                                                    <input type="text" class="form-control" placeholder="Enter Sub Category" id="addnewsubcategory"><input type="hidden" id="selectedcategoryid" />
                                                    <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addsubcategory"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                    <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                                </div>
                                                <div class="row positions"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row text-left">
                                        <div class="form-group col-xs-6 col-md-3">
                                            <label>Cost Price</label>
                                            @*<input type="text" class="form-control" placeholder="Cost Price" value="0">*@
                                            @Html.TextBoxFor(Model => Model.cost_price, new { @class = "form-control", placeholder = "Cost Price", required = "required", Value = particularproduct.cost_price })
                                        </div>
                                        <div class="form-group col-xs-6 col-md-3">
                                            <label>Selling Price</label>
                                            @*<input type="text" class="form-control" placeholder="Selling Price" value="0">*@
                                            @Html.TextBoxFor(Model => Model.selling_price, new { @class = "form-control", placeholder = "Selling Price", Value = particularproduct.selling_price })
                                        </div>
                                        @*<div class="form-group col-xs-6 col-md-3">
                                                <label>Tax(%)</label>
                                                @*<input type="text" class="form-control" placeholder="Tax" value="0">
                                                @Html.TextBoxFor(Model => Model.tax, new { @class = "form-control", placeholder = "Tax", Value = "0" })
                                            </div>*@
                                        <div class="form-group col-xs-6 col-md-3 tax">
                                            <label>Tax (%)</label>
                                            <label class="switch">
                                                <input type="checkbox" id="checkbox1">
                                                <div class="slider"></div>
                                            </label>
                                            @if (particularproduct.tax != "")
                                            {
                                            <input type="text" id="tax" name="tax" class="form-control" placeholder="Tax" value="@particularproduct.tax" readonly>
                                            }
                                            else
                                            {
                                                <input type="text" id="tax" name="tax" class="form-control" placeholder="Tax" value="0" readonly>
                                            }
                                        </div>
                                        <div class="form-group col-xs-6 col-md-2">
                                            <label>Discount(%)</label>
                                            @*<input type="text" class="form-control" placeholder="Discount" value="0">*@
                                            @Html.TextBoxFor(Model => Model.discount, new { @class = "form-control", placeholder = "Discount", Value = particularproduct.discount })
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-xs-6 col-md-3">
                                            <label>Shipping</label>
                                            @*<input type="text" class="form-control" placeholder="Shipping" value="0">*@
                                            @Html.TextBoxFor(Model => Model.shipping_price, new { @class = "form-control", placeholder = "Shipping", Value = particularproduct.shipping_price })
                                        </div>
                                        <div class="form-group col-xs-6 col-md-9">
                                            <label>Total</label>
                                            @*<input type="text" class="form-control" placeholder="Total">*@
                                            @Html.TextBoxFor(Model => Model.total_price, new { @class = "form-control", placeholder = "Total", Value = particularproduct.total_price })
                                            <span>(Selling price + Tax + Shipping - Discount)</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-md-3">
                                            @*<input type="text" class="form-control" placeholder="Measurement">*@
                                            @Html.TextBoxFor(Model => Model.Measurement, new { @class = "form-control", placeholder = "Measurement", required = "required", Value = particularproduct.Measurement })
                                        </div>
                                        <div class="form-group col-xs-12 col-md-3">
                                            <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                            @*<input type="text" class="form-control selected-position" placeholder="Weight">*@
                                            @Html.TextBoxFor(Model => Model.weight, new { @class = "form-control selected-position", placeholder = "Weight", Value = particularproduct.weight })
                                            <div class="display-positions">
                                                <div class="positions1 position">
                                                    <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Weight</span><i class="fa fa-times" aria-hidden="true"></i>
                                                </div>
                                                <div id="allweights">
                                                    @if (ViewBag.weights.Count != 0)
                                                    {
                                                        foreach (var item in ViewBag.weights)
                                                        {
                                                            <div class="positions1"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delweight',@item.weight_id)" aria-hidden="true"></i>@item.weight</div>
                                                        }
                                                    }
                                                </div>
                                            </div>
                                            <div class="row add-position">
                                                <div class="row">
                                                    <input type="text" class="form-control" placeholder="Enter Weight" id="addnewweight">
                                                    <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addweight"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                    <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                                </div>
                                                <div class="row positions"></div>
                                            </div>
                                        </div>
                                        <div class="form-group col-xs-12 col-md-3">
                                            <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                            @*<input type="text" class="form-control selected-position" placeholder="Sizes">*@
                                            @Html.TextBoxFor(Model => Model.size, new { @class = "form-control selected-position", placeholder = "Sizes", Value = particularproduct.size })
                                            <div class="display-positions">
                                                <div class="positions1 position">
                                                    <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Sizes</span><i class="fa fa-times" aria-hidden="true"></i>
                                                </div>
                                                <div id="allsizes">
                                                    @if (ViewBag.sizes.Count != 0)
                                                    {
                                                        foreach (var item in ViewBag.sizes)
                                                        {
                                                            <div class="positions1"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delsize',@item.size_id)" aria-hidden="true"></i>@item.size</div>
                                                        }
                                                    }
                                                </div>
                                            </div>
                                            <div class="row add-position">
                                                <div class="row">
                                                    <input type="text" class="form-control" placeholder="Enter Size" id="addnewsize">
                                                    <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addsize"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                    <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                                </div>
                                                <div class="row positions"></div>
                                            </div>
                                        </div>
                                        <div class="form-group col-xs-12 col-md-3">
                                            <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                            @*<input type="text" class="form-control selected-position" placeholder="Colors">*@
                                            @Html.TextBoxFor(Model => Model.color, new { @class = "form-control selected-position", placeholder = "Colors", Value = particularproduct.color })
                                            <div class="display-positions">
                                                <div class="positions1 position">
                                                    <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Colors</span><i class="fa fa-times" aria-hidden="true"></i>
                                                </div>
                                                <div id="allcolors">
                                                    @if (ViewBag.colors.Count != 0)
                                                    {
                                                        foreach (var item in ViewBag.colors)
                                                        {
                                                            <div class="positions1"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delcolor',@item.color_id)" aria-hidden="true"></i>@item.color</div>
                                                        }
                                                    }
                                                </div>
                                            </div>
                                            <div class="row add-position">
                                                <div class="row">
                                                    <input type="text" class="form-control" placeholder="Enter Color" id="addnewcolor">
                                                    <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="addcolor"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                    <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                                </div>
                                                <div class="row positions"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group col-xs-12 col-md-12">
                                            <i class="fa fa-sort-desc" aria-hidden="true"></i>
                                            @*<input type="text" class="form-control selected-position" placeholder="Item Shape">*@
                                            @Html.TextBoxFor(Model => Model.item_shape, new { @class = "form-control selected-position", placeholder = "Item Shape", Value = particularproduct.item_shape })
                                            <div class="display-positions">
                                                <div class="positions1 position">
                                                    <i class="fa fa-plus-circle" aria-hidden="true"></i><span>Item Shape</span><i class="fa fa-times" aria-hidden="true"></i>
                                                </div>
                                                <div id="allitemshapes">
                                                    @if (ViewBag.itemshapes.Count != 0)
                                                    {
                                                        foreach (var item in ViewBag.itemshapes)
                                                        {
                                                            <div class="positions1"><i class="fa fa-trash-o pull-right" onclick="deleteitem('delitemshape','@item.itemshape_id')" aria-hidden="true"></i>@item.itemshape</div>
                                                        }
                                                    }
                                                </div>
                                            </div>
                                            <div class="row add-position">
                                                <div class="row">
                                                    <input type="text" class="form-control" placeholder="Enter Item Shape" id="addnewitemshape">
                                                    <button type="button" class="btn btn-primary btn-sm add-button" onclick="updateproductitems(this.value)" value="additemshape"> <i class="fa fa-plus-circle" aria-hidden="true"></i>Add </button>
                                                    <button type="button" class="btn btn-primary btn-sm close-button"> close </button>
                                                </div>
                                                <div class="row positions"></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="form-group radio col-xs-4 col-md-4">
                                            <label>
                                                @*@Html.RadioButtonFor(Model=>Model.product_consumable, "Consumable",new { @class="consumable"})*@
                                                @*<input type="radio" name="product_consumable" class="consumable" id="product_consumable">*@
                                                Consumable
                                            </label>
                                        </div>
                                        <div class="form-group radio col-xs-4 col-md-4">
                                            <label class="switch toggle-consumable">
                                                <input type="checkbox" id="consumable">
                                                <div class="slider"></div>
                                            </label>
                                        </div>
                                        <div class="form-group radio col-xs-4 col-md-4">
                                            <label>
                                                @Html.HiddenFor(Model => Model.product_consumable, new { Value = particularproduct.product_consumable })
                                                @*@Html.RadioButtonFor(Model => Model.product_consumable, "Non-Consumable", new { @class = "non-consumable" })*@
                                                @*<input type="radio" name="product_consumable" class="non-consumable" id="product_consumable">*@
                                                Non-Consumable
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row quantity-veg-non">
                                        <div class="form-group radio col-xs-4 col-md-4">
                                            <label class="veg">
                                                @*@Html.RadioButtonFor(Model => Model.product_type, "Veg")*@
                                                @*<input type="radio" name="optradio1" id="product_type">*@
                                                Veg
                                            </label>
                                        </div>
                                        <div class="form-group radio col-xs-4 col-md-4">
                                            <label class="switch veg-non">
                                                <input type="checkbox" id="veg-non">
                                                <div class="slider"></div>
                                            </label>
                                        </div>
                                        <div class="form-group radio col-xs-4 col-md-4">
                                            <label class="non-veg">
                                                @Html.HiddenFor(Model => Model.product_type, new { Value = particularproduct.product_type })
                                                @*@Html.RadioButtonFor(Model => Model.product_type, "Non-Veg")*@
                                                @*<input type="radio" name="optradio1" id="product_type">*@
                                                Non-Veg
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row quantity-perishable-non">
                                        <div class="form-group radio col-xs-4 col-md-4">
                                            <label class="Perishable">
                                                @Html.HiddenFor(Model => Model.product_perishability, new { Value = particularproduct.product_perishability })
                                                @*@Html.RadioButtonFor(Model => Model.product_perishability, "Perishable")*@
                                                @*<input type="radio" name="optradio2" id="product_perishability">*@
                                                Perishable
                                            </label>
                                        </div>
                                        <div class="form-group radio col-xs-4 col-md-4">
                                            <label class="switch perishable-non">
                                                <input type="checkbox" id="perishable">
                                                <div class="slider"></div>
                                            </label>
                                        </div>
                                        <div class="form-group radio col-xs-4 col-md-4">
                                            <label class="Non-Perishable">
                                                @*@Html.RadioButtonFor(Model => Model.product_perishability, "Non-Perishable")*@
                                                @*<input type="radio" name="optradio2" id="product_perishability">*@
                                                Non-Perishable
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12 col-xs-12">
                                            <div class="form-group ">
                                                <label class="col-sm-3" for="date"> Expiry Date </label>
                                                <div class="col-sm-9">
                                                    <div class="input-group">
                                                        <div class="input-group-addon"> <i class="fa fa-calendar"> </i> </div>
                                                        @*<input class="form-control" id="date" name="date" placeholder="MM/DD/YYYY" type="text" />*@
                                                        @Html.TextBoxFor(Model => Model.product_expirydate, new { @class = "form-control", placeholder = "MM/DD/YYYY", Value = particularproduct.product_expirydate })
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="row">
                                        <ul class="col-md-12 admin-product-thumbs">
                                            @Html.HiddenFor(m => m.product_images)
                                            @*@Html.HiddenFor()*@
                                            @if (particularproduct.product_images != "")
                                            {
                                                foreach (var item1 in particularproduct.product_images.Split(','))
                                                {
                                                    <li>   <img src="~/ProductImages/@item1" alt="Product Image" height="50px" width="50px" alt="Product" /></li>
                                                }
                                            }
                                            else
                                            {
                                                <img src="images/default_product.png" alt="Product" />}
                                        </ul>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <button type="button" class="btn btn-primary btn-xs pull-right add-popup"><i class="fa fa-plus-circle" aria-hidden="true"></i>Image</button>
                                            </div>
                                        </div>
                                        <div class="row image-library">
                                            <ul class="col-md-12 tabs">
                                                <li class="tab-1"><a>Upload Images</a></li>
                                                <li class="tab-2"><a>Library</a></li>
                                                <i class="fa fa-times pull-right" aria-hidden="true"></i>
                                            </ul>
                                            <ul class="col-md-12 tabs-content">
                                                @*<li class="tab-1" id="tab-1">
                                                        <button type="button" id="btnupload" onclick="javascript: document.getElementById('fileUpload').click();" class="btn">Upload Here</button>

                                                        <input type='file' multiple="multiple" accept="image/*" id='fileUpload' name="file" />
                                                        <div id="dvPreview" align="center" style="padding:30px">
                                                    </li>*@
                                                <li class="tab-1" id="tab-1">
                                                    <button type="button" class="btn" onclick="javascript: document.getElementById('fileUpload').click();">Upload Here</button>
                                                    <input type="file" multiple="multiple" accept="image/*" id='fileUpload' name="file" style="display:none">
                                                    <div class="row" id="dvPreview">
                                                        @*<div class="col-xs-12 col-md-12">
                                                                <ul class="upload-thumbs">
                                                                    <li><img src="images/1.jpg" alt="1" /></li>
                                                                    <li><img src="images/2.jpg" alt="2" /></li>
                                                                    <li><img src="images/3.jpg" alt="3" /></li>
                                                                    <li><img src="images/4.jpg" alt="4" /></li>
                                                                    <li><img src="images/5.jpg" alt="5" /></li>
                                                                    <li><img src="images/6.jpg" alt="6" /></li>
                                                                    <li><img src="images/1.jpg" alt="1" /></li>
                                                                    <li><img src="images/2.jpg" alt="2" /></li>
                                                                    <li><img src="images/3.jpg" alt="3" /></li>
                                                                    <li><img src="images/4.jpg" alt="4" /></li>
                                                                    <li><img src="images/5.jpg" alt="5" /></li>
                                                                    <li><img src="images/6.jpg" alt="6" /></li>
                                                                </ul>
                                                            </div>*@
                                                    </div>
                                                </li>
                                                <li class="tab-2" id="tab-2">
                                                    <ul>
                                                        <li>
                                                            <input type="checkbox" name="checkbox" class="libselection">
                                                            <img src="images/1.jpg" alt="Image one" />
                                                        </li>
                                                        <li>
                                                            <input type="checkbox" name="checkbox" class="libselection">
                                                            <img src="images/2.jpg" alt="Image Two" />
                                                        </li>
                                                        <li>
                                                            <input type="checkbox" name="checkbox" class="libselection">
                                                            <img src="images/3.jpg" alt="Image Three" />
                                                        </li>
                                                        <li>
                                                            <input type="checkbox" name="checkbox" class="libselection">
                                                            <img src="images/4.jpg" alt="Image Four" />
                                                        </li>
                                                        <li>
                                                            <input type="checkbox" name="checkbox" class="libselection">
                                                            <img src="images/5.jpg" alt="Image Five" />
                                                        </li>
                                                        <li>
                                                            <input type="checkbox" name="checkbox" class="libselection">
                                                            <img src="images/6.jpg" alt="Image Six" />
                                                        </li>
                                                    </ul>
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <button type="button" class="btn pull-right cancel"><i class="fa fa-times" aria-hidden="true"></i>Close</button>
                                                            <button type="button" class="btn btn-primary pull-right" id="add-image"><i class="fa fa-plus-circle" aria-hidden="true"></i>Add</button>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>

                                        </div>
                                        <div class="row">
                                            <ul class="col-md-12 admin-product-thumbs"></ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-xs-12 col-md-12">
                                    <input type="hidden" value="@particularproduct.product_description" id="product_desc" />
                                    @*<textarea class="form-control" rows="5" id="comment" placeholder="Product Description"></textarea>*@
                                    @Html.TextAreaFor(Model => Model.product_description, new { @class = "form-control", placeholder = "Product Description", rows = "5" })
                                    @* @Html.TextArea("Attachments", new { @class = "form-control", id = "Attachments", rows="5", @Value = particularproduct.product_description });*@
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-md-12">
                                    <label>Add Tags<span>(Seperated by Comma)</span></label>
                                    <ul id="myTags">
                                        @foreach (var tag in particularproduct.product_tags.Split(','))
                                        {
                                            <li class="tagit-choice ui-widget-content ui-state-default ui-corner-all tagit-choice-editable">
                                                <span class="tagit-label">@tag</span>
                                                <a class="tagit-close"><span class="ui-icon ui-icon-close">!</span></a>
                                                <input type="hidden" value="@tag" name="tags" class="tagit-hidden-field">
                                            </li>
                                        }
                                    </ul>
                                    @Html.HiddenFor(Model => Model.product_tags, new { Value = particularproduct.product_tags })
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12 col-md-2 pull-right">
                                    @*<button type="button" class="btn cancel"><i class="fa fa-times" aria-hidden="true"></i>Close</button>*@
                                    <a href="~/AllProducts" class="btn-default btn cancel"><i class="fa fa-times" aria-hidden="true"></i>Cancel Updation</a>
                                </div>
                                <div class="col-xs-12 col-md-2 pull-right">
                                    <button type="submit" class="btn btn-primary" name="command" value="UpdateProduct" id="btnAddProduct"><i class="fa fa-plus-circle" aria-hidden="true"></i>Update Product</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-3">
                            <div class="row">
                                <div class="col-xs-12 col-md-12 add-product-right">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Sno</th>
                                                <th>Ware House</th>
                                                <th>Quantity in Hand</th>
                                                <th>Re-Order Level</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ViewBag.AvailableQty != null)
                                            {
                                                //foreach (var item in ViewBag.AvailableWarehouses)
                                                for (int i = 0; i < ViewBag.AvailableQty.Count; i++)
                                                {
                                                    <tr>
                                                        <td>@(++sno)</td>@Html.HiddenFor(m => m.Qid, new { Value = ViewBag.AvailableQty[i].Quantity_id })
                                                        <td>@ViewBag.AvailableQty[i].Quantity_area</td>
                                                        <td>
                                                            <div class="form-group col-xs-12  col-md-12">
                                                                @*col-md-7 col-md-push-2*@
                                                                @*<input type="text" id="txtqty @sno" class="form-control" placeholder="Quantity in Hand" value="0">*@
                                                                @Html.TextBoxFor(Model => Model.Quantity_Qty[i], new { Value = ViewBag.AvailableQty[i].Qty_Stock, @class = "form-control", placeholder = "Quantity in Hand" })
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="form-group col-xs-12 col-md-12">
                                                                @Html.TextBoxFor(Model => Model.Reorder_level[i], new { @Value = ViewBag.AvailableQty[i].Qty_Reorder, @class = "form-control modified", placeholder = "Quantity1 in Hand" })
                                                                @*<input type="text" class="form-control modified" placeholder="Quantity in Hand" value="0">*@
                                                            </div>
                                                        </td>
                                                    </tr>

                                                }
                                            }

                                            <tr>
                                                <td></td>
                                                <td>Total</td>
                                                <td colspan="2">
                                                    <div class="form-group col-xs-12 col-md-12">
                                                        @*<input type="text" class="form-control" placeholder="Total Quantity in Hand">*@
                                                        @Html.TextBoxFor(Model => Model.Quantity_Total, new { @Value = ViewBag.total, @class = "form-control", placeholder = "Total Quantity in Hand" })
                                                    </div>
                                                </td>
                                            </tr>

                                        </tbody>
                                    </table>
                                </div>
                            </div>

                        </div>
                    </div>
                }

            </form>
        </div>
    </div>
}
@if (ViewBag.count == "empty") // If Warehouse Count is 0
{
    <h2>No Warehouse Detected.Add warehouse by clicking <a href="/Warehouse">here</a></h2>
}
@section scripts{
    <!-- jQuery lib & Tabs -->
    <script src="~/Scripts/js/jquery-3.1.1.min.js"></script>
    <script src="~/Scripts/js/main.js"></script>
    <script src="~/Scripts/js/modernizr.js"></script>
    <!-- jQuery lib & Tabs -->
    <!-- jQuery -->
    <script src="~/vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="~/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    @*<script src="~/Scripts/Product.js"></script>*@
    <script src="/Scripts/js/bootstrap-datepicker.min.js"></script>
    <link href="/Scripts/css/bootstrap-datepicker3.css" rel="stylesheet" />
           <!-- Over Hang -->
<link href="~/Scripts/css/overhang.min.css" rel="stylesheet" />

    @*<!------ Tags With Space and comma ------->*@
    @*<script type="text/javascript" src="js/jquery-ui.min.js" language="javascript"></script>
        <script type="text/javascript" src="js/tag-it.js" language="javascript"></script>*@
    <script src="~/Scripts/js/jquery-ui.min.js"></script>
    <script src="~/Scripts/js/tag-it.js"></script>

            <!-- Over Hang -->
<script src="~/Scripts/js/jquery-ui.min.js"></script>
<script src="~/Scripts/js/overhang.min.js"></script>
@Scripts.Render("~/bundles/product")

    <script type="text/javascript">
        $('#myTags').tagit();
    </script>
    @*<!------ Tags With Space and comma ------->*@
    @*<!-------------- Date Picker ----------->*@
    @*<script type="text/javascript" src="js/bootstrap-datepicker.min.js"></script>
        <link rel="stylesheet" href="css/bootstrap-datepicker3.css" />*@
    <script src="~/Scripts/js/bootstrap-datepicker.min.js"></script>
    <link href="~/Scripts/css/bootstrap-datepicker3.css" rel="stylesheet" />
    <script>
        $(document).ready(function () {
            var date_input = $('#product_expirydate'); //our date input has the name "date"
            var container = $('.bootstrap-iso form').length > 0 ? $('.bootstrap-iso form').parent() : "body";
            date_input.datepicker({
                format: 'mm/dd/yyyy',
                container: container,
                todayHighlight: true,
                autoclose: true,
            });

            var productid = '@Request.QueryString["pid"]';

            if (productid != '') {
                $('#product_description').val($('#product_desc').val());
                var consumable = $('#product_consumable').val()
                var type = $('#product_type').val();
                var perishable = $('#product_perishability').val();
                //alert(consumable+','+type+','+perishable);
                if (consumable == 'Non-Consumable') {
                    $('#consumable').attr('checked', false).attr('readonly', 'true');
                    $(".quantity-perishable-non, .quantity-veg-non").css("display", "none");
                }
                else {
                    $('#consumable').attr('checked', true).attr('readonly', 'true');
                    $(".quantity-perishable-non, .quantity-veg-non").css("display", "block");
                    if (type == 'Veg') {
                        $('#veg-non').attr('checked', false).attr('readonly', 'true');
                    }
                    else {
                        $('#veg-non').attr('checked', true).attr('readonly', 'true');
                    }
                    if (perishable == 'Perishable') {
                        $('#perishable').attr('checked', false).attr('readonly', 'true');
                    }
                    else {
                        $('#perishable').attr('checked', true).attr('readonly', 'true');
                    }
                }
            }
        });
    </script>

    @*<!-------------- Date Picker ----------->*@

    <script type="text/javascript">

        //<!------- PopUP ------->

        //<!--------- Add Image popUp Tabs ------>
        $("ul.tabs > li").click(function () {
            var v = $(this).attr("class");
            if (v == "tab-1") {
                $(this).nextAll(".fa-times").css("display", "block");
            } else { $(this).nextAll("i").css("display", "none"); }
            $("ul.tabs-content > li").each(function () {
                var v1 = $(this).attr("class");
                if (v == v1) {
                    $(this).css({ "opacity": "1", "z-index": "1" });
                } else {
                    $(this).css({ "opacity": "0", "z-index": "-1" });
                }
            });
        });
        $("li#tab-2 > ul > li > img").click(function () {
            var checked = $("input[type='checkbox']:checked");
            $(this).closest("li").find("input[type='checkbox']").click();
        });
        $("ul.tabs > i").click(function () {
            $(".image-library").css("display", "none");
        });
        $("ul.tabs > i").click(function () {
            $(".image-library").css("display", "none");
        });
        //<!--------- Add Image popUp Tabs ------>
        //<!---- Cancel Tab ---->
        $(".cancel").click(function () {
            $(".image-library").css("display", "none");
        });
        ////<!---- Cancel Tab ---->
        //<!---- Display PopUp ---->
        $(".add-popup").click(function () {
            $(".image-library").css("display", "block");
        });
        $("ul.tabs-content > li > ul > li > input[type='checkbox']").attr("checked", false);
        //<!---- Display PopUp ---->
        //<!--------- Add checkbox Images ------>
        $("#add-image").click(function () {
            var imagelist = new Array();
            $("li#tab-2 > ul > li > input[type='checkbox']").each(function () {

                if ($(this).is(":checked")) {
                    var l = $("input[type='checkbox']:checked").length;
                    //alert(l);
                    if (l <= 6) {
                        var v = $(this).next().attr("src"); imagelist.push(v.replace('images/', '')); //selectedimages(v);
                        //alert(v);
                        $("ul.admin-product-thumbs").append("<li>" + "<img src='" + v + "'" + "alt='" + v + "'" + "/>" + "</li>");
                        $("<i class='fa fa-times' aria-hidden='true'></i>").insertBefore("ul.admin-product-thumbs > li > img");
                        $("ul.admin-product-thumbs li i").click(function () {
                            $(this).parent("li").css("display", "none");
                            if (($(this).next("img").attr("src") == $(".admin-product-image img").attr("src"))) {
                                $(this).parent("li").css("display", "none");
                                $(".admin-product-image img").attr("src", "images/default_product.png");
                            }
                        });
                    } else {
                        alert("Select Less than Six");
                        exit;
                    }
                }

                $(".image-library").css("display", "none");
            });
            $('#product_images').val(imagelist);
            //<!--------- Thumb Image ------>
            $("ul.admin-product-thumbs > li > img").click(function () {
                //alert("ONE");
                var src = $(this).attr("src");
                //alert(src);
                //var src = $(this).attr("src").split("/");
                //alert(src);
                //var len = src[src.length-1];
                //var file = len.split(".")[0];
                //alert(file);
                $(".admin-product-image img").attr("src", src);
            });
            // <!--------- Thumb Image ------>
        });
        //<!--------- Add checkbox Images ------>

        //<!------- PopUP ------->

        //<!------ Instant Values added in Input Box ------->

        $(".display-positions .position > i.fa-times").click(function () {
            $(this).parents(".display-positions").css("display", "none");
            $(this).parents(".display-positions").next(".add-position").css("display", "none");
            return false;
        });

        function textval() {
            $(".display-positions .positions1").click(function () {
                var c = $(this).text();
                $(this).parents(".display-positions").prev("input.selected-position").val(c);
                $(this).parents(".display-positions").css("display", "none");
            });
        }

        $(".positions1 > i.fa-trash-o").click(function () {
            $(this).parent(".positions1").remove();
        });

        $(".selected-position").click(function () {
            $(this).next(".display-positions").css("display", "block");
            return textval();
        });

        $(".display-positions .position > span, .display-positions .position > i.fa-plus-circle").click(function () {
            $(this).parents(".display-positions").next(".add-position").css("display", "block");

            //$(".add-position .add-button").click(function () {
            //var v = $(this).prev("input[type='text']").val();
            //updateproductitems(this.value,v);
            //var value = $("<div class='positions1'>" + "<i class='fa fa-trash-o pull-right' aria-hidden='true'></i>" + v + "</div>");
            //$(this).parents(".add-position").prev(".display-positions").append(value);
            //$(".positions1 > i").click(function () {
            //    $(this).parent(".positions1").remove();
            //});
            //return textval();
            //});

            $(".close-button").click(function () {
                $(this).parents(".add-position").css("display", "none");
            });

        });

        //<!------ Instant Values added in Input Box ------->

        //<!------ Total Price ------->
        var costprice = 0, sellprice = 0, tax = 0, taxtotal = 0, discount = 0, discounttotal = 0, shipping = 0;

        $("input[placeholder='Cost Price']").blur(function () {
            costprice = parseInt($("input[placeholder='Cost Price']").val());
            if (costprice <= 0) {
                $("input[placeholder='Cost Price']").css("border", "1px solid red");
            } else { $("input[placeholder='Cost Price']").css("border", "1px solid #ccc"); }
        });
        $("input[placeholder='Selling Price']").blur(function () {
            sellprice = parseInt($("input[placeholder='Selling Price']").val());
            costprice = parseInt($("input[placeholder='Cost Price']").val());
            if (costprice <= 0) {
                $("input[placeholder='Cost Price']").css("border", "1px solid red");
            }
            if (sellprice < costprice) {
                sellprice = costprice;
                $("input[placeholder='Selling Price']").css("border", "1px solid red").val(costprice);
                $("input[placeholder='Total']").val(costprice);
            } else {
                $("input[placeholder='Selling Price']").css("border", "1px solid #ccc").val(sellprice);
                $("input[placeholder='Total']").val(sellprice);
            }
        });
        $("input[placeholder='Tax']").blur(function () {
            sellprice = parseInt($("input[placeholder='Selling Price']").val());
            tax = parseInt($("input[placeholder='Tax']").val());
            $(this).val(tax);
            taxtotal = (sellprice / 100) * tax;
            var v = sellprice + taxtotal;
            $("input[placeholder='Selling Price']").css("border", "1px solid #ccc").val(sellprice);
            $("input[placeholder='Total']").val(v);

        });
        $("input[placeholder='Discount']").blur(function () {
            discount = parseInt($("input[placeholder='Discount']").val());
            $(this).val(discount);
            discounttotal = (sellprice / 100) * discount;
            var v = sellprice + taxtotal - discounttotal;
            $("input[placeholder='Total']").val(v);
        });
        $("input[placeholder='Shipping']").blur(function () {
            shipping = parseInt($("input[placeholder='Shipping']").val());
            $(this).val(shipping);
            var v = sellprice + taxtotal + shipping - discounttotal;
            $("input[placeholder='Total']").val(v);
        });
        //<!------ Total Price ------->

        //<!------ Total Quantity in Hand ------->
        $("input[placeholder='Quantity in Hand']").blur(function (e) {
            var len = $(".table-striped tbody > tr input[placeholder='Quantity in Hand']").length;
            var i = 0, total = 0;
            $(".table-striped tbody > tr input[placeholder='Quantity in Hand']").each(function () {
                if (i <= len) {
                    var val = parseInt($(this).val());
                    total += val;
                }
                i++;
            });
            $("input[placeholder='Total Quantity in Hand']").val(total);
            //alert(total);
            //var discount = (total / 100) * 20;
            //alert(discount);
        });
        //<!------ Total Quantity in Hand ------->

        //<!-------------- Veg / Non-Veg ------------------>
        //$(".non-consumable").click(function () {
        //    if ($(".non-consumable").attr("checked", "true")) {
        //        $(".Perishable,.Non-Perishable, .veg, .non-veg").css("display", "none");
        //    }
        //});
        //$(".consumable").click(function () {
        //    if ($(".consumable").attr("checked", "true")) {
        //        $(".Perishable,.Non-Perishable, .veg, .non-veg").css("display", "block");
        //    }
        //});
        //<!-------------- Veg / Non-Veg ------------------>

        // <!-- Toogle Function -->
        $(".tax #checkbox1").change(function () {
            if ($(this).is(":checked")) {
                $(".tax input[placeholder='Tax']").prop('readonly', false);
            } else {
                $(".tax input[placeholder='Tax']").prop('readonly',true);
            }

        });

        $(".toggle-consumable #checkbox1").change(function () {
            if ($(this).is(":checked")) {
                $('#product_consumable').val("Consumable");
                $(".perishable-non, .veg-non").css("display", "block");
            } else {
                $('#product_consumable').val("Non-Consumable");
                $(".perishable-non, .veg-non").css("display", "none");
            }
        });

        $(".toggle-consumable #consumable").change(function () {
            if ($(this).is(":checked")) {
                $('#product_consumable').val("Consumable");
                $(".quantity-veg-non, .quantity-perishable-non").css("display", "block");
            } else {
                $('#product_consumable').val("Non-Consumable");
                $(".quantity-veg-non, .quantity-perishable-non").css("display", "none");
            }
        });

        $(".veg-non #checkbox1").change(function () {
            if ($(this).is(":checked")) {
                $('#product_type').val("Non-Veg");
            } else {
                $('#product_type').val("Veg");
            }
        });

        $(".perishable-non #checkbox1").change(function () {
            if ($(this).is(":checked")) {
                $('#product_perishability').val("Non-Perishable");
            } else {
                $('#product_perishability').val("Perishable");
            }
        });
        //<!-- Toogle Function -->

        $('#btnAddProduct').click(function () {
            var arr = [];
            // get the text from li's
            $('#myTags li span.tagit-label').each(function (index) {
                arr.push($(this).text());
            });
            $('#product_tags').val(arr);
        });
    </script>

    @*Error Message*@
    @if (ViewBag.msg != "" && ViewBag.msg != null)
    {
        <script>
            $("body").overhang({
                type: "error",
                message: '@ViewBag.msg',
                closeConfirm: false
            });
        </script>
    }

    @*Success Message*@
    @if (ViewBag.smsg != "" && ViewBag.smsg != null)
    {
        <script>
            $("body").overhang({
                type: "success",
                message: '@ViewBag.smsg',
                closeConfirm: false
            });
        </script>
    }
}