@model Inventory.Models.Vendor
@{
    ViewBag.Title = "Vendor";
    Layout = "~/Views/Shared/MainMaster.cshtml";
}

@section css{
    <!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- iCheck -->
    <link href="../vendors/iCheck/skins/flat/green.css" rel="stylesheet">
    <!-- bootstrap-progressbar -->
    <link href="../vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
    <!-- JQVMap -->
    <link href="../vendors/jqvmap/dist/jqvmap.min.css" rel="stylesheet" />
    <!-- bootstrap-daterangepicker -->
    <link href="../vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet">

    <!--- Tabs in Graph Section ---->
    <link href="~/Scripts/css/reset.css" rel="stylesheet" />
    <link href="~/Scripts/css/dashboardstyles.css" rel="stylesheet" />
}
<!-- page content -->
<div class="right_col" role="main">
    <div class="container">
        <form method="post" action="#" id="myform">
            @Html.HiddenFor(Model => Model.company_Id, new { Value = @ViewBag.company_Id })
            @Html.HiddenFor(Model => Model.Vendor_Id, new { Value = @ViewBag.vendor_Id })
            @*<input type="hidden" value="@ViewBag.company_Id " id="company_Id"/>*@
            <button type="button" id="btnadd" class="btn btn-success">ADD COMPANY</button>
            <div class="table-responsive">
                <table class="table  table-borderedtable-striped jambo_table bulk_action" id="vendortable">
                    <thead>
                        <tr>
                            <th>Company Name</th>
                            <th>Email</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                        @foreach (var item in ViewBag.records)
                        {
                            <tr>
                                <td> @item.Company_Name </td>
                                <td>@item.Email </td>
                                <td>
                                    <div class="btn-group">
                                        <button data-toggle="dropdown" class="btn btn-default dropdown-toggle" type="button" aria-expanded="false"> Action <span class="caret"></span> </button>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <button type="button" id="btnedit" class="btn btn-success" onclick="getEditDetails(@item.company_Id)">EDIT Vendor</button> @*<a href="#">EDIT</a>*@
                                            </li>
                                            <li>
                                                <button type="button" id="btndel" class="btn btn-danger">DELETE Vendor</button>@*<a href="#">DELETE</a>*@
                                            </li>
                                            <li>
                                                <a href="#">Dropdown link 3</a>
                                            </li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        }
                       
                    </tbody>
                </table>
                <div id="nav" class="btn"></div>
            </div>
            <br /><br />

            <div class="row" id="company">
                <div class="col-md-12 form-title">Vendor Information</div>

                <div class="col-md-6">
                    <div class="row">
                        @if (ViewBag.company != null)
                        {
                            
                                <div class="form-group col-md-4">
                                    @Html.TextBoxFor(Model => Model.Company_Name, new { placeholder = "Company Name",@id= "Company_Name", required = "required", @class = "form-control", Value = ViewBag.companyname })
                                </div>
                                <div class="form-group col-md-5">

                                    @Html.TextBoxFor(Model => Model.Email, new { placeholder = "Email" ,@id = "Email", required = "required", @class = "form-control", Value = ViewBag.email})
                                </div>
                                @*<div class="form-group col-md-4">
                                    <button type="button" class="btn btn-default pull-right" id="btnclose1">Cancel</button>
                                    <button type="submit" class="btn btn-primary pull-right" id="mySubmit" name="command" value="insertcompany1">Save</button>
                                </div>*@
                            
                        }
                        else
                        {
                            <div class="form-group col-md-4">
                                @Html.TextBoxFor(Model => Model.Company_Name, new { placeholder = "Company Name", required = "required", @class = "form-control" })
                            </div>
                            <div class="form-group col-md-5">
                                
                                @*@Html.TextBoxFor(model => model.Email, new{@class = "popinputbox",placeholder = "Email",required = "required",type = "email"})*@

                                @Html.TextBoxFor(Model => Model.Email, new { placeholder = "Email",id = "Email", required = "required", @class = "form-control"})
                            </div>
                        }
                            <div class="form-group col-md-4">
                                <button type="button" class="btn btn-default pull-right" id="btnclose1">Cancel</button>
                                <input type="submit" class="btn btn-primary pull-right" id="mySubmit" name="command" value="Save"/>
                            </div>
                       
                    </div>
                    <a href="#" id="additon">Add Additional Inforamtion</a>
                </div>

            </div>

            <div class="row" style="display:none" id="additional">
                <!--------- Tab Section START ------------>
                <div class="col-md-12">
                    <div class="cd-tabs">
                        <nav>
                            <ul class="cd-tabs-navigation">
                                <li><a data-content="address" class="selected" href="#0">Address</a></li>
                                <li><a data-content="contactperson" href="#0">Contact Person</a></li>
                                <li><a data-content="details" href="#0">Bank Details</a></li>
                                <li><a data-content="notes" href="#0">Notes</a></li>
                            </ul>
                        </nav>
                        <ul class="cd-tabs-content">
                            <li data-content="address" class="selected">
                                <div class="row">
                                    <div class="col-md-6 padding-top padding-bottom">
                                        <div class="row col-md-12">
                                            <h2 class="form-title">Billing address<a href="#">map</a></h2>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-md-12">
                                                <textarea class="form-control" rows="5" name="bill_street" id="bill_street" placeholder="Street"></textarea>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="bill_city" id="bill_city" placeholder="City/Town">
                                            </div>
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="bill_state" id="bill_state" placeholder="State">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="bill_postalcode" id="bill_postalcode" placeholder="Postal Code">
                                            </div>
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="bill_country" id="bill_country" placeholder="Country">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 padding-top padding-bottom shipping">
                                        <div class="row">
                                            <h2 class="form-title col-md-6">Shipping address<a href="#">map</a></h2>
                                            <div class="checkbox col-md-6">
                                                <label>
                                                    <input type="checkbox">
                                                    Same as billing address
                                                </label>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-md-12">
                                                <textarea class="form-control" rows="5" name="ship_street" id="ship_street" placeholder="Street"></textarea>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="ship_city" id="ship_city" placeholder="City/Town">
                                            </div>
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="ship_state" id="ship_state" placeholder="State">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="ship_postalcode" id="ship_postalcode" placeholder="Postal Code">
                                            </div>
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="ship_country" id="ship_country" placeholder="Country">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-12">
                                        <button type="button" class="btn btn-default pull-right" id="btnclose3">Cancel</button>
                                        @*<button type="submit" class="btn btn-primary pull-right" name="command" value="saveaddress"></button>*@
                                        <input type="submit" class="btn btn-primary pull-right" id="mySubmit1" name="command" value="saveaddress" />
                                    </div>
                                </div>
                            </li>
                            <li data-content="contactperson">
                                <div class="table-responsive">
                                    <table class="table  table-borderedtable-striped jambo_table bulk_action" id="contacttable">
                                        <thead>
                                            <tr>
                                                <th>First Name</th>
                                                <th>Last Name</th>
                                                <th>Email</th>
                                                
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in ViewBag.contact1)
                                            {
                                                <tr>
                                                    <td> @item.Contact_PersonFname </td>
                                                    <td> @item.Contact_PersonLname </td>
                                                    <td>@item.emailid </td>
                                                   
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                    <div id="nav" class="btn"></div>
                                </div>
                                <div class="row">
                                    <div class="col-md-8">
                                        <div class="row">
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="Contact_PersonFname" id="Contact_PersonFname" placeholder="First Name">
                                            </div>
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="Contact_PersonLname" id="Contact_PersonLname" placeholder="Last name">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="Mobile_No" placeholder="Mobile" id="Mobile_No">
                                            </div>
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="emailid" id="emailid" placeholder="Email">
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="Adhar_Number" id="Adhar_Number" placeholder="AdharNumber">
                                            </div>
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="Job_position" id="Job_position" placeholder="Job position">
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <button type="button" class="btn btn-default pull-right" id="btnclose4">Cancel</button>
                                        <button type="submit" class="btn btn-primary pull-right" name="command" value="insertcontact">Update Contacts</button>
                                    </div>
                                </div>
                            </li>
                            <li data-content="details">
                                <div class="row">
                                    <div class="col-md-8">
                                        <div class="row">
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="Bank_Acc_Number" id="Bank_Acc_Number" placeholder="Account Number">
                                            </div>
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="Bank_Name" id="Bank_Name" placeholder="Bank Name">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="Bank_Branch" id="Bank_Branch" placeholder="Bank Branch">
                                            </div>
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="IFSC_No" id="IFSC_No" placeholder="IFSC Code">
                                            </div>
                                        </div>
                                        @*<div class="row">
                                            <div class="form-group col-md-6">
                                                <input type="text" class="form-control" name="Remarks" id="Remarks" placeholder="Remarks">
                                            </div>
                                        </div>*@
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <button type="button" class="btn btn-default pull-right" id="btnclose5">Cancel</button>
                                        <button type="submit" class="btn btn-primary pull-right" name="command" value="updatecompany">Update BankDetails</button>
                                    </div>
                                </div>
                            </li>

                            <li data-content="notes">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="row col-md-12">
                                            <h2 class="form-title">Notes</h2>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-md-12">
                                                <textarea class="form-control" rows="5"placeholder="Notes" id="Note" name="Note"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <button type="button" class="btn btn-default pull-right" id="btnclose6">Cancel</button>
                                        <button type="submit" class="btn btn-primary pull-right" name="command" value="updatenote" id="btnclose6">Update notes</button>
                                    </div>
                                </div>
                            </li>
                        </ul>
                        <!-- cd-tabs-content -->
                    </div>
                    <!-- cd-tabs -->
                </div>
                <!--------- Tab Section END ------------>
            </div>
        </form>
    </div>
</div>

<!-- /page content -->
@section scripts{
    <script src="~/Scripts/js/jquery-3.1.1.min.js"></script>
    <script src="~/Scripts/js/main.js"></script>
    <script src="~/Scripts/js/modernizr.js"></script>
    <!-- jQuery -->
    <script src="../vendors/jquery/dist/jquery.min.js"></script>
    
    <!-- Bootstrap -->
    <script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- Custom Theme Scripts -->
    <script src="../build/js/custom.min.js"></script>
    <!-- Clone Shipping Address -->
    <script type="text/javascript">
        $("input[type='checkbox']").change(function () {
            if ($("input[type='checkbox']").is(':checked')) {
                $("[id='ship_street']").val($("[id='bill_street']").val());
                $("[id='ship_city']").val($("[id='bill_city']").val());
                $("[id='ship_state']").val($("[id='bill_state']").val());
                $("[id='ship_postalcode']").val($("[id='bill_postalcode']").val());
                $("[id='ship_country']").val($("[id='bill_country']").val());
            }
            else {
                $("[id='ship_street']").val("");
                $("[id='ship_city']").val("");
                $("[id='ship_state']").val("");
                $("[id='ship_postalcode']").val("");
                $("[id='ship_country']").val("");
            }
        });

    </script>
    <!-- Clone Shipping Address -->
   
    <script>
        $('#btnadd').click(function () {
            $('#company').css('display', 'block');
        });
        $('#additon').click(function () {
            $('#additional').css('display', 'block');
        });
        
    </script>
    <script>
        $("#btnclose1").click(function () {
            $('#company').css('display', 'none');
        })
        $("#btnclose2").click(function () {
            $('#company').css('display', 'none');
        })
        $("#btnclose3").click(function () {
            $("#additional").css('display', 'none');
        })
        $("#btnclose4").click(function () {
            $("#additional").css('display', 'none');
        })
        $("#btnclose5").click(function () {
            $("#additional").css('display', 'none');
        })
        $("#btnclose6").click(function () {
            $("#additional").css('display', 'none');
        })
    </script>

@*<script type="text/javascript">
    $(document).ready(function () {
        $("#Mobile_No").keydown(function (event) {
            if (event.shiftKey) {
                event.preventDefault();
            }
            if (event.keyCode == 46 || event.keyCode == 8) {
            }
            else {
                if (event.keyCode < 95) {
                    if (event.keyCode < 48 || event.keyCode > 57) {
                        event.preventDefault();
                    }
                }
                else {
                    if (event.keyCode < 96 || event.keyCode > 105) {
                        event.preventDefault();
                    }
                }
            }
        });
    });

            </script>*@
    
    <!------ Random Colors ------>
    <script type="text/javascript">

        $(document).ready(function (e) {
            $(".top-button").each(function () {
                var colors = ["#f4511e", "#7e57c2", "#455a64", "#512da8", "#c2185b", "#5c6bc0", "#0288d1", "#f4511e", "#ef6c00", "#0097a7", "#5c6bc0", "#5d4037"];
                var len = colors.length;
                var rand = Math.floor(Math.random() * len);
                $(this).css("background", colors[rand]);
            });

            var tel = document.URL.split('=')[1];
            if (tel != 'complete')
            {
                $('#company').css('display', 'none');
                $('#additional').css('display', 'none');
            }


            //Table Pagination
            $('#vendortable').after('<div id="nav"></div>');
            var rowsShown = 3;
            var rowsTotal = $('#vendortable tbody tr').length;
            var numPages = rowsTotal / rowsShown;
            for (i = 0; i < numPages; i++) {
                var pageNum = i + 1;
                $('#nav').append('<a href="#" class="btn btn-success" rel="' + i + '">' + pageNum + '</a> ');
            }
            $('#vendortable tbody tr').hide();
            $('#vendortable tbody tr').slice(0, rowsShown).show();
            $('#nav a:first').addClass('active');
            $('#nav a').bind('click', function () {

                $('#nav a').removeClass('active');
                $(this).addClass('active');
                var currPage = $(this).attr('rel');
                var startItem = currPage * rowsShown;
                var endItem = startItem + rowsShown;
                $('#vendortable tbody tr').css('opacity', '0.0').hide().slice(startItem, endItem).
                        css('display', 'table-row').animate({ opacity: 1 }, 300);
            });

            $("#myform").validate({
                rules: {Email: {required: true,email: true},},
                messages: { Email: {required: "Please enter your email Id "},},
            });
        });
</script>


<script>
        $('#btnadd').click(function () {
            $('#company').css('display', 'block');
        });
        $('#additon').click(function () {
            $('#additional').css('display', 'block');
        });

</script>
<script>
function myFunction() {
    document.getElementById("mySubmit").value = "Update";
}
</script>
<script>

    function getEditDetails(id) {
        alert(id);
        
        $('#mySubmit').val("update").text("update");
        $('#mySubmit1').val("updateaddress").text("updateaddress");
        
        //myFunction();
        $('#btnedit').click(function () {
            $('#company').css('display', 'none');
        });
        
            $.ajax({
                url: '/Vendor/getAllDetails?company_Id=' + id,
                type: 'POST',
                data: JSON.stringify({company_Id:id}),
                dataType: 'json',
                contentType: 'application/json',
                success: function (data) {
                    if (data == "unique") {
                        alert("sai");
                    }
                    else {
                        alert(data);
                        var array = JSON.parse(data);
                        alert("SSSSS"+array);
                        $('#company').css('display', 'block');
                        $('#company_Id').c
                        $('#Company_Name').val(array.Company_Name);
                        $('#Email').val(array.Email);
                        $('#bill_street').val(array.bill_street);
                        $('#bill_city').val(array.bill_city);
                        $('#bill_state').val(array.bill_state);
                        $('#bill_postalcode').val(array.bill_postalcode);
                        $('#bill_country').val(array.bill_country);
                        $('#ship_street').val(array.ship_street);
                        $('#ship_city').val(array.ship_city);
                        $('#ship_state').val(array.ship_state);
                        $('#ship_postalcode').val(array.ship_postalcode);
                        $('#ship_country').val(array.ship_country);
                        $('#Contact_PersonFname').val(array.Contact_PersonFname);
                        $('#Contact_PersonLname').val(array.Contact_PersonLname);
                        $('#Mobile_No').val(array.Mobile_No);
                        $('#emailid').val(array.emailid);
                        $('#Adhar_Number').val(array.Adhar_Number);
                        $('#Job_position').val(array.Job_position);
                        $('#Bank_Acc_Number').val(array.Bank_Acc_Number);
                        $('#Bank_Name').val(array.Bank_Name);
                        $('#Bank_Branch').val(array.Bank_Branch);
                        $('#IFSC_No').val(array.IFSC_No);
                        //$('#Remarks').val(array.Remarks);
                        $('#Note').val(array.Note);

                    }
                },
                error: function (data)
                { alert("Failed!!!"); }
            });
        }
</script>
  
     <!------ Random Colors ------>
    }
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
@*<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>*@
<!-- Include all compiled plugins (below), or include individual files as needed -->
@*<script src="js/bootstrap.min.js"></script>*@
@*<script src="~/Scripts/jquery-1.10.2.min.js"></script>*@
@*</body>
    </html>*@

