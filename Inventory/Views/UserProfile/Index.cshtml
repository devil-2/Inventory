@*@model Inventory.Models.UserMaster*@
@model Tuple<Inventory.Models.UserMaster, Inventory.Models.UserAddress, Inventory.Models.OwnerCompanyAddress, Inventory.Models.OwnerStaff>

@{
            ViewBag.Title = "User Home";
            Layout = "~/Views/Shared/MainMaster.cshtml";
}

@section css{
    <!-- Bootstrap -->
    <link href="~/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="~/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="~/vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- iCheck -->
    <link href="~/vendors/iCheck/skins/flat/green.css" rel="stylesheet">
    <!-- bootstrap-progressbar -->
    <link href="~/vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
    <!-- JQVMap -->
    <link href="~/vendors/jqvmap/dist/jqvmap.min.css" rel="stylesheet" />
    <!-- bootstrap-daterangepicker -->
    <link href="~/vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="~/build/css/custom.min.css" rel="stylesheet">
    <link href="~/Scripts/css/reset.css" rel="stylesheet" />
    <link href="~/Scripts/css/dashboardstyles.css" rel="stylesheet" />
}
<!-- page content -->
<div class="right_col" role="main">
    <div class="container" id="profilediv">
        @foreach (var item in ViewBag.profile)
        {
            <form method="post" enctype="multipart/form-data" id="userprofile">
                <div class="row info-title" http-equiv="refresh" content="0">
                    @*<meta http-equiv="refresh" content="5">*@
                    @item.First_Name @item.Last_Name
                    <button type="button" class="btn btn-success btn-xs pull-right">Profile</button>
                </div>

                <div class="row customer-information">
                    <!--------- Tab Section START ------------>
                    <div class="col-md-12">
                        <div class="cd-tabs">
                            <nav>
                                <ul class="cd-tabs-navigation" id="tabsection">
                                    <li><a data-content="essentials" class="selected" href="#0">Essentials</a></li>
                                    <li><a data-content="caddress" href="#0">Company Address</a></li>
                                    <li><a data-content="account" href="#0">Account</a></li>
                                    <li><a data-content="address" href="#0">My Details</a></li>
                                    <li><a data-content="details" href="#0">My Users</a></li>
                                    @*<li><a data-content="profile" href="#0">My Profile</a></li>*@
                                    <li><a data-content="notes" href="#0">Notes</a></li>
                                    <li><a data-content="social" href="#0">Social</a></li>
                                    <li><a data-content="localization" href="#0">Localization</a></li>
                                </ul>
                                <!-- cd-tabs-navigation -->
                            </nav>
                            <ul class="cd-tabs-content">
                                @*@Html.HiddenFor(Model => Model.Item1.EmailId, new { Value = item.EmailId })
                                    @Html.HiddenFor(Model => Model.Item1.CompanyName, new { Value = item.CompanyName })*@
                                <li data-content="essentials" class="selected">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="row">
                                                <div class="form-group col-md-12">
                                                    @*<input type="email" class="form-control" placeholder="E-Mail">*@
                                                    @Html.TextBoxFor(Model => Model.Item1.CompanyName, new { placeholder = "Company Name", @class = "form-control", Value = item.CompanyName, disabled = "disabled", required = "required" })
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-6">
                                                    @*<input type="text" class="form-control" placeholder="First Name">*@
                                                    @Html.TextBoxFor(Model => Model.Item1.First_Name, new { placeholder = "First Name", @class = "form-control", Value = item.First_Name, required = "required" })
                                                </div>
                                                <div class="form-group col-md-6">
                                                    @*<input type="text" class="form-control" placeholder="Last Name">*@
                                                    @Html.TextBoxFor(Model => Model.Item1.Last_Name, new { placeholder = "Last Name", @class = "form-control", Value = item.Last_Name, required = "required" })
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-12">
                                                    @*<input type="text" class="form-control" placeholder="Company Name">*@
                                                    @Html.TextBoxFor(Model => Model.Item1.EmailId, new { placeholder = "E-Mail ID", @class = "form-control", Value = item.EmailId, disabled = "disabled", required = "required" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-3 col-md-push-3">

                                            @if (item.company_logo != null)
                                            {
                                                <input type="file" name="file" id="fileupload" accept=".gif, .jpeg, .png" onchange="upload()" style="display:none">
                                                <img id="companypic" onclick="javascript: document.getElementById('fileupload').click();" src="data:image;base64,@item.company_logo" style="border-radius: 50%;width: 150px;height: 150px;" />
                                            }
                                            else
                                            {
                                                <div class="top-button">
                                                    <input type="file" name="file" id="fileupload" accept="image/gif, image/jpeg, image/png" onchange="upload()">
                                                    <span onclick="javascript: document.getElementById('fileupload').click();" id="userprofilepic">@item.CompanyName.Substring(0, 1)</span>
                                                </div>
                                            }

                                            <div>Upload Company Logo</div>
                                        </div>
                                    </div>
                                    @*<textarea cols="80" rows="10"></textarea>*@
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-12">
                                            <a href="UserHome?email=@item.EmailId&site=@item.User_Site&usertype=@item.UserTypeId" class="btn btn-default pull-right">Cancel</a>
                                            <button type="button" class="btn btn-success pull-right" id="btnupdate" value="Essentials" onclick="updatevales(this.value)">Update Essentials</button>
                                        </div>
                                    </div>
                                </li>
                                <li data-content="caddress">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="row">
                                                <div class="form-group col-md-4">
                                                    @*<input type="text" class="form-control" placeholder="Line 1">*@
                                                    @Html.TextBoxFor(Model => Model.Item3.Line1, new { placeholder = "Company Address Line1", @class = "form-control", Value = item.CLine1, required = "required" })
                                                </div>
                                                <div class="form-group col-md-4">
                                                    @*<input type="text" class="form-control" placeholder="State/Country">*@
                                                    @Html.TextBoxFor(Model => Model.Item3.state, new { placeholder = "Company State", @class = "form-control", Value = item.Cstate, required = "required" })
                                                    @*@Html.DropDownListFor(Model => Model.Timezone, new SelectList(ViewBag.country), "Select country", new { @class = "form-control" })*@
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-4">
                                                    @Html.TextBoxFor(Model => Model.Item3.Line2, new { placeholder = "Company Address Line2", @class = "form-control", Value = item.CLine2, required = "required" })
                                                    @*<input type="text" class="form-control" placeholder="Line 2">*@
                                                </div>
                                                <div class="form-group col-md-4">
                                                    @Html.TextBoxFor(Model => Model.Item3.postalcode, new { placeholder = "Company Postal Code", @class = "form-control", Value = item.Cpostalcode, required = "required" })
                                                    @*<input type="text" class="form-control" placeholder="Zip/Postal Code">*@
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-4">
                                                    @Html.TextBoxFor(Model => Model.Item3.city, new { placeholder = "Company City", @class = "form-control", Value = item.Ccity, required = "required" })
                                                    @*<input type="text" class="form-control" placeholder="City">*@
                                                </div>
                                                <div class="form-group col-md-4">
                                                    @Html.DropDownListFor(Model => Model.Item3.country, (SelectList)ViewBag.companycountry, "Select country", new { @class = "form-control", required = "required" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-12">
                                            <a href="UserHome?email=@item.EmailId&site=@item.User_Site&usertype=@item.UserTypeId" class="btn btn-default pull-right">Cancel</a>
                                            <button type="button" class="btn btn-success pull-right" id="btnupdate" value="companyaddress" onclick="updatevales(this.value)">Update Company Address</button>
                                        </div>
                                    </div>
                                </li>
                                <li data-content="account">
                                    <div class="row">
                                        @*@Html.HiddenFor(Model => Model.Item1.Password, new { Value = item.Password })*@
                                        <div class="col-md-12">
                                            <div class="row">
                                                <div class="form-group col-md-8">
                                                    @*<input type="email" class="form-control" placeholder="E-mail">*@
                                                    @Html.TextBoxFor(Model => Model.Item1.EmailId, new { placeholder = "E-Mail ID", @class = "form-control", Value = item.EmailId, disabled = "disabled", required = "required" })
                                                </div>
                                            </div>
                                            <div class="row toggle-button" style="height:auto;">
                                                <div class="col-md-2 font-password"> Change Password </div>
                                                <div class="col-md-10">
                                                    <label class="switch">
                                                        <input type="checkbox" id="checkbox1">
                                                        <div class="slider round"></div>
                                                    </label>
                                                </div>
                                                <div class="form-group col-md-4 toggle-box" style="margin-top: 20px;">
                                                    @*<input type="password" class="form-control" placeholder="Password">*@
                                                    @Html.TextBoxFor(Model => Model.Item1.Password, new { placeholder = "Password", @class = "form-control", required = "required" })
                                                </div>
                                                <div class="form-group col-md-4 toggle-box" style="margin-top: 20px;">
                                                    @*<input type="password" class="form-control" placeholder="Confirm Password">*@
                                                    @Html.TextBoxFor(Model => Model.Item1.Password, new { placeholder = "Confirm Password", @class = "form-control", required = "required" })
                                                </div>
                                            </div>
                                            <div class="row"> </div>
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-12">
                                            <a href="UserHome?email=@item.EmailId&site=@item.User_Site&usertype=@item.UserTypeId" class="btn btn-default pull-right">Cancel</a>
                                            <button type="button" class="btn btn-success pull-right" id="btnupdate" value="Account" onclick="updatevales(this.value)">Update Account</button>
                                        </div>
                                    </div>
                                </li>
                                <li data-content="details">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="row">
                                                <div class="form-group col-md-6">
                                                    @*<input type="text" class="form-control" placeholder="Line 1">*@
                                                    @Html.TextBoxFor(Model => Model.Item4.First_Name, new { placeholder = "First Name", @class = "form-control", required = "required" })
                                                </div>
                                                <div class="form-group col-md-6">
                                                    @*<input type="text" class="form-control" placeholder="State/Country">*@
                                                    @Html.TextBoxFor(Model => Model.Item4.Last_Name, new { placeholder = "Last Name", @class = "form-control", required = "required" })
                                                    @*@Html.DropDownListFor(Model => Model.Timezone, new SelectList(ViewBag.country), "Select country", new { @class = "form-control" })*@
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-6">
                                                    @Html.TextBoxFor(Model => Model.Item4.Mobile_No, new { placeholder = "Mobile Number", @class = "form-control", required = "required" })
                                                    @*<input type="text" class="form-control" placeholder="Line 2">*@
                                                </div>
                                                <div class="form-group col-md-6">
                                                    @Html.TextBoxFor(Model => Model.Item4.Email, new { placeholder = "Email ID", @class = "form-control", required = "required" })
                                                    @*<input type="text" class="form-control" placeholder="Zip/Postal Code">*@
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-6">
                                                    @Html.TextBoxFor(Model => Model.Item4.Job_position, new { placeholder = "Job Position", @class = "form-control", required = "required" })
                                                    @*<input type="text" class="form-control" placeholder="City">*@
                                                </div>
                                                <div class="form-group col-md-6">
                                                    <div class="col-md-6 font-password"> Allow permissions </div>
                                                    <div class="col-md-6">
                                                        <label class="switch pull-right">
                                                            <input type="checkbox" id="allowaccess">
                                                            <div class="slider round"></div>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div id="permissionsarea" style="visibility:hidden">
                                            <div class="form-group col-md-6">
                                                <div class="row">
                                                    <div class="col-md-4 font-password"> Can Create Vendor </div>
                                                    <div class="col-md-4">
                                                        <label class="switch pull-right">
                                                            <input type="checkbox" id="Vendor_Access">
                                                            <div class="slider round"></div>
                                                        </label>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="form-group col-md-6">
                                                <div class="row">
                                                    <div class="col-md-4 font-password"> Can Create Customer </div>
                                                    <div class="col-md-4">
                                                        <label class="switch pull-right">
                                                            <input type="checkbox" id="Customer_Access">
                                                            <div class="slider round"></div>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-md-12">
                                        <a href="UserHome?email=@item.EmailId&site=@item.User_Site&usertype=@item.UserTypeId" class="btn btn-default pull-right">Cancel</a>
                                        <button type="button" class="btn btn-success pull-right" id="btnupdate" value="addstaff" onclick="updatevales(this.value)">Add User</button>
                                    </div>
                                    @*<div>
                                        @{ Html.RenderAction("GetStaffRecords", "UserProfile");}
                                    </div>*@
                                    <hr />
                                    @*<div class="row">
                                            <div class="col-md-12">
                                                <a href="UserHome?email=@item.EmailId&site=@item.User_Site&usertype=@item.UserTypeId" class="btn btn-default pull-right">Cancel</a>
                                                <button type="button" class="btn btn-success pull-right" id="btnupdate" value="update" onclick="updatevales(this.value)">Add Users</button>
                                            </div>
                                        </div>*@
                                </li>
                                <li data-content="address">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="row">
                                                <div class="form-group col-md-6">
                                                    @*<input type="text" class="form-control" placeholder="Line 1">*@
                                                    @Html.TextBoxFor(Model => Model.Item2.Line1, new { placeholder = "Address Line1", @class = "form-control", Value = item.ULine1, required = "required" })
                                                </div>
                                                <div class="form-group col-md-6">
                                                    @*<input type="text" class="form-control" placeholder="State/Country">*@
                                                    @Html.TextBoxFor(Model => Model.Item2.state, new { placeholder = "State", @class = "form-control", Value = item.Ustate, required = "required" })
                                                    @*@Html.DropDownListFor(Model => Model.Timezone, new SelectList(ViewBag.country), "Select country", new { @class = "form-control" })*@
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-6">
                                                    @Html.TextBoxFor(Model => Model.Item2.Line2, new { placeholder = "Address Line2", @class = "form-control", Value = item.ULine2, required = "required" })
                                                    @*<input type="text" class="form-control" placeholder="Line 2">*@
                                                </div>
                                                <div class="form-group col-md-6">
                                                    @Html.TextBoxFor(Model => Model.Item2.postalcode, new { placeholder = "Postal Code", @class = "form-control", Value = item.Upostalcode, required = "required" })
                                                    @*<input type="text" class="form-control" placeholder="Zip/Postal Code">*@
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-6">
                                                    @Html.TextBoxFor(Model => Model.Item2.city, new { placeholder = "City", @class = "form-control", Value = item.Ucity, required = "required" })
                                                    @*<input type="text" class="form-control" placeholder="City">*@
                                                </div>
                                                <div class="form-group col-md-6">
                                                    @Html.DropDownListFor(Model => Model.Item2.country, (SelectList)ViewBag.usercountry, "Select country", new { @class = "form-control", required = "required" })
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-3 col-md-push-3">

                                            @if (item.Profile_Picture != null)
                                            {
                                                <input type="file" name="file" id="fileupload1" accept=".gif, .jpeg, .png" onchange="upload1()" style="display:none">
                                                <img id="companypic" onclick="javascript: document.getElementById('fileupload1').click();" src="data:image;base64,@item.Profile_Picture" style="border-radius: 50%;width: 150px;height: 150px;" />
                                            }
                                            else
                                            {
                                                <div class="top-button">
                                                    <input type="file" name="file" id="fileupload1" accept="image/gif, image/jpeg, image/png" onchange="upload1()">
                                                    <span onclick="javascript: document.getElementById('fileupload1').click();" id="userprofilepic">@item.First_Name.Substring(0, 1)</span>
                                                </div>
                                            }

                                            <div>Upload New Pic</div>
                                        </div>


                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-12">
                                            <a href="UserHome?email=@item.EmailId&site=@item.User_Site&usertype=@item.UserTypeId" class="btn btn-default pull-right">Cancel</a>
                                            <button type="button" class="btn btn-success pull-right" id="btnupdate" value="useraddress" onclick="updatevales(this.value)">Update Address</button>
                                        </div>
                                    </div>
                                </li>

                                <li data-content="profile">
                                    <div class="row">
                                        <div class="col-md-6">
                                            @*<div class="row">
                                                    <div class="form-group col-md-12">
                                                        <textarea class="form-control" rows="10" id="comment" placeholder="Public Profile(Visible to all users)"></textarea>
                                                    </div>
                                                </div>*@
                                            @*<div class="top-button">
                                                    <input type="file" name="file" id="fileupload" accept="image/gif, image/jpeg, image/png" onchange="upload()">
                                                    <span onclick="javascript: document.getElementById('fileupload').click();" id="userprofilepic">@item.CompanyName.Substring(0, 1)</span>
                                                </div>*@

                                            @*@if (item.Profile_Picture != null)
                                                {
                                                    <input type="file" name="file" id="fileupload1" accept=".gif, .jpeg, .png" onchange="upload1()" style="display:none">
                                                    <img id="profilepic" onclick="javascript: document.getElementById('fileupload1').click();" src="data:image;base64,@item.Profile_Picture" style="border-radius: 50%;width: 150px;height: 150px;" />
                                                }
                                                else
                                                {
                                                    <div class="top-button">
                                                        <input type="file" name="file" id="fileupload1" accept="image/gif, image/jpeg, image/png" onchange="upload1()">
                                                        <span onclick="javascript: document.getElementById('fileupload1').click();" id="userprofilepic">@item.First_Name.Substring(0, 1)</span>
                                                    </div>
                                                }*@


                                        </div>
                                        @*<div class="col-md-6">
                                                <div class="row">
                                                    <div class="form-group col-md-12">
                                                        <textarea class="form-control" rows="10" id="comment" placeholder="Preview(Mark Down)"></textarea>
                                                    </div>
                                                </div>
                                            </div>*@
                                    </div>
                                    <hr />
                                    @*<div class="row">
                                            <div class="col-md-12">
                                                <a href="UserHome?email=@item.EmailId&site=@item.User_Site&usertype=@item.UserTypeId" class="btn btn-default pull-right">Cancel</a>
                                                <button type="button" class="btn btn-success pull-right">Update Profile</button>
                                            </div>
                                        </div>*@
                                </li>
                                <li data-content="notes">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="row">
                                                <div class="form-group col-md-12">
                                                    <textarea class="form-control" rows="5" id="comment" placeholder="Public Profile(Visible to all users)"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        @*<div class="col-md-6">
                                                <div class="row">
                                                    <div class="form-group col-md-12">
                                                        <textarea class="form-control" rows="10" id="comment" placeholder="Preview(Mark Down)"></textarea>
                                                    </div>
                                                </div>
                                            </div>*@
                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-12">
                                            <a href="UserHome?email=@item.EmailId&site=@item.User_Site&usertype=@item.UserTypeId" class="btn btn-default pull-right">Cancel</a>
                                            <button type="button" class="btn btn-success pull-right" id="btnupdate" value="Note" onclick="updatevales(this.value)">Update Notes</button>
                                        </div>
                                    </div>
                                </li>
                                <li data-content="social">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="row">
                                                <div class="form-group col-md-8">
                                                    <input type="text" class="form-control" placeholder="Twitter">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-8">
                                                    <input type="text" class="form-control" placeholder="Linkdin">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-8">
                                                    <input type="text" class="form-control" placeholder="Google+">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-8">
                                                    <input type="text" class="form-control" placeholder="Facebook">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-8">
                                                    <input type="text" class="form-control" placeholder="Website">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-4">
                                                    <select class="form-control" id="sel1">
                                                        <option>Choose Service</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    <input type="text" class="form-control" placeholder="Messanger Name">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-12">
                                            <a href="UserHome?email=@item.EmailId&site=@item.User_Site&usertype=@item.UserTypeId" class="btn btn-default pull-right">Cancel</a>
                                            <button type="button" class="btn btn-success pull-right" id="btnupdate" value="Social" onclick="updatevales(this.value)">Update Social</button>
                                        </div>
                                    </div>
                                </li>
                                <li data-content="localization">
                                    <div class="row">
                                        <div class="col-md-8">
                                            @*<div class="row">
                                                    <div class="form-group col-md-8">
                                                        <select class="form-control" id="sel1">
                                                            <option>Language</option>
                                                            <option>English</option>
                                                        </select>
                                                    </div>
                                                </div>*@
                                            <div class="row">
                                                @*@Html.HiddenFor(Model => Model.Item1.Date_Format, new { Value = item.Date_Format })*@
                                                <div class="form-group col-md-4">
                                                    @*<select class="form-control" id="sel1">
                                                            <option>Date Format</option>
                                                            <option>2</option>
                                                            <option>3</option>
                                                            <option>4</option>
                                                        </select>*@

                                                    @Html.DropDownListFor(Model => Model.Item1.Date_Format, new SelectList(new List<Object> { new { Text = "Select Date Format", Value = "" }, new { Text = "DD/MM/YYYY", Value = "DD/MM/YYYY" }, new { Text = "MM/DD/YYYY", Value = "MM/DD/YYYY" }, new { Text = "YYYY/MM/DD", Value = "YYYY/MM/DD" } }, "value", "text", item.Date_Format), new { @class = "form-control" }) @*, @style = "width: 50%;"*@
                                                </div>
                                                <div class="form-group col-md-4">
                                                    @Html.DropDownListFor(Model => Model.Item1.Currency, new SelectList(new List<Object> { new { Text = "Select Currency", Value = "" }, new { Text = "Dollar($)", Value = "Dollar" }, new { Text = "Rupee(₹)", Value = "Rupee" } }, "value", "text", item.Currency), new { @class = "form-control" })

                                                    @*@Html.DropDownListFor(Model => Model.Item1.Date_Format, new List<SelectListItem>
                                                        {
                                                            new SelectListItem { Text = "DD/MM/YYYY", Value = "DD/MM/YYYY"},
                                                            new SelectListItem { Text = "MM/DD/YYYY", Value = "MM/DD/YYYY"},
                                                            new SelectListItem {Text  = "YYYY/MM/DD",Value="YYYY/MM/DD"}
                                                        }, "Select Date Format", new { @class = "form-control", Value = item.Date_Format })*@
                                                </div>
                                            </div>
                                            @*<div class="row">
                                                    <div class="form-group col-md-8">
                                                        <select class="form-control" id="sel1">
                                                            <option>Time Format</option>
                                                            <option>2</option>
                                                            <option>3</option>
                                                            <option>4</option>
                                                        </select>
                                                    </div>
                                                </div>*@
                                            <div class="row">
                                                @*@Html.HiddenFor(Model => Model.Item1.Timezone, new { Value = item.Timezone })*@
                                                <div class="form-group col-md-8">
                                                    @*<select class="form-control" id="sel1">
                                                            <option>Time Zone</option>
                                                            <option>2</option>
                                                            <option>3</option>
                                                            <option>4</option>
                                                        </select>*@
                                                    @*@Html.DropDownListFor(Model => Model.Item1.Timezone, new SelectList(ViewBag.timeZoneInfos), "Select Time Zone", new { @class = "form-control", @Value = item.Timezone })*@
                                                    @Html.DropDownListFor(Model => Model.Item1.Timezone, (SelectList)ViewBag.timeZoneInfos, "Select Time Zone", new { @class = "form-control", @Value = item.Timezone })
                                                </div>
                                            </div>
                                            <div class="row">
                                                @*@Html.HiddenFor(Model => Model.Item1.Currency, new { Value = item.Currency })*@
                                                <div class="form-group col-md-8">
                                                    @*@Html.DropDownListFor(Model => Model.Item1.Currency, new SelectList(new List<Object> { new { Text = "Select Currency", Value = "" }, new { Text = "Dollar($)", Value = "Dollar" },new { Text = "Rupee(₹)", Value = "Rupee" } }, "value", "text",item.Currency),new { @class = "form-control" })*@
                                                    @*<select class="form-control" id="sel1">
                                                            <option>Currency</option>
                                                            <option>Dollar($)</option>
                                                            <option>Rupee(Rs.)</option>
                                                        </select>*@
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="row">
                                        <div class="col-md-12">
                                            <a href="UserHome?email=@item.EmailId&site=@item.User_Site&usertype=@item.UserTypeId" class="btn btn-default pull-right">Cancel</a>
                                            <button type="button" class="btn btn-success pull-right" id="btnupdate" value="Localization" onclick="updatevales(this.value)">Update Localization</button>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <!-- cd-tabs-content -->
                        </div>
                        <!-- cd-tabs -->

                    </div>

                    <!--------- Tab Section END ------------>
                </div>
            </form>
                                            }

    </div>
</div>
<!-- /page content -->
@section scripts{
    <script src="~/Scripts/js/jquery-3.1.1.min.js"></script>
    <script src="~/Scripts/js/main.js"></script>
    <script src="~/Scripts/js/modernizr.js"></script>
    <!-- jQuery -->
    <script src="~/vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="~/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="~/vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="~/vendors/nprogress/nprogress.js"></script>
    <!-- Custom Theme Scripts -->
    <script src="~/build/js/custom.min.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <!-- Toogle Function -->
    <script type="text/javascript">
        $(document).ready(function () {
            $("#checkbox1").val($(this).is(':checked'));
            $("#allowaccess").val($(this).is(':checked'));

            $("#checkbox1").change(function () {
                if ($(this).is(":checked")) {
                    $(".toggle-box").css("visibility", "visible");
                } else {
                    $(".toggle-box").css("visibility", "hidden");
                }
            });
            //Permissions Area
            $("#allowaccess").change(function () {
                if ($(this).is(":checked")) {
                    $("#permissionsarea").css("visibility", "visible");
                } else {
                    $("#permissionsarea").css("visibility", "hidden");
                }
            });
        });
    </script>
    <!-- Toogle Function -->
    <!------ Random Colors ------>
    <script type="text/javascript">
        $(document).ready(function (e) {
            $(".top-button").each(function () {
                var colors = ["#f4511e", "#7e57c2", "#455a64", "#512da8", "#c2185b", "#5c6bc0", "#0288d1", "#f4511e", "#ef6c00", "#0097a7", "#5c6bc0", "#5d4037"];
                var len = colors.length;
                var rand = Math.floor(Math.random() * len);
                $(this).css("background", colors[rand]);
            });
            var profileurl = '@Request.QueryString["type"]';
            if (profileurl == 'upload') {
                $(".cd-tabs-navigation li a[data-content='essentials'], ul.cd-tabs-content li[data-content='essentials']").removeClass("selected");
                $(".cd-tabs-navigation li a[data-content='address'], ul.cd-tabs-content li[data-content='address']").addClass("selected");
            }

        });
    </script>
    <!------ Random Colors ------>
    <!------ Image Upload ------>

    <script>
        function upload() {
            var ext = $('#fileupload').val().split('.').pop().toLowerCase();
            if ($.inArray(ext, ['gif', 'png', 'jpg', 'jpeg']) == -1) {
                alert('Invalid File Type');
            }
            else {
                var file = $("#fileupload").get(0).files;
                var id = @Request.QueryString["id"];
                var data = new FormData();
                var files = $("#fileupload").get(0).files;
                if (files.length > 0) {
                    data.append("helpSectionImages", files[0]);
                }
                $.ajax({
                    url: '/UserProfile/UpdateCompanyPic?id='+id,
                    type: "POST",
                    processData: false,
                    contentType: false,
                    data: data,
                    success: function (response) {
                        $("#companypic").attr("src","data:image/;base64,"+response);
                    },
                    error: function (er) {
                        alert("Failed To Upload Pic!!! Try Again");
                    }
                });
            }
        }
    </script>


    <script>
        function upload1() {
            var ext = $('#fileupload1').val().split('.').pop().toLowerCase();
            if ($.inArray(ext, ['gif', 'png', 'jpg', 'jpeg']) == -1) {
                alert('Invalid File Type');
            }
            else {
                var file = $("#fileupload1").get(0).files;
                var id = @Request.QueryString["id"];
                var data = new FormData();
                var files = $("#fileupload1").get(0).files;
                if (files.length > 0) {
                    data.append("helpSectionImages", files[0]);
                }
                $.ajax({
                    url: '/UserProfile/UpdateProfilePic?id='+id,
                    type: "POST",
                    processData: false,
                    contentType: false,
                    data: data,
                    success: function (response) {
                        $("#smallprofilepic").attr("src","data:image/;base64,"+response);
                        $("#profilepic").attr("src","data:image/;base64,"+response);
                    },
                    error: function (er) {
                        alert("Failed To Upload Pic!!! Try Again");
                    }
                });
            }
        }
    </script>

    <!------ Image Upload ------>

    <script>
        function updatevales(val) {
            var id = @Request.QueryString["id"];
            var usermaster = {
                First_Name:$('#Item1_First_Name').val(),
                Last_Name:$('#Item1_Last_Name').val(),
                Password:$('#Item1_Password').val(),
                Date_Format:$('#Item1_Date_Format').val(),
                Timezone:$('#Item1_Timezone').val(),
                Currency:$('#Item1_Currency').val()
            }
            var userAddress={
                Line1:$('#Item2_Line1').val(),
                Line2:$('#Item2_Line2').val(),
                city:$('#Item2_city').val(),
                state:$('#Item2_state').val(),
                postalcode:$('#Item2_postalcode').val(),
                country:$('#Item2_country').val(),
            }
            var ownerCompanyAddress={
                Line1:$('#Item3_Line1').val(),
                Line2:$('#Item3_Line2').val(),
                city:$('#Item3_city').val(),
                state:$('#Item3_state').val(),
                postalcode:$('#Item3_postalcode').val(),
                country:$('#Item3_country').val(),
            }
            var staff={
                First_Name:$('#Item4_First_Name').val(),
                Last_Name:$('#Item4_Last_Name').val(),
                Mobile_No:$('#Item4_Mobile_No').val(),
                Email:$('#Item4_Email').val(),
                Job_position:$('#Item4_Job_position').val(),
                Vendor_Access:$('#Vendor_Access').val(),
                Customer_Access:$('#Customer_Access').val(),
            }
            $.ajax({
                url: '/UserProfile/UpdateUserProfile?command='+val+'&&id='+id,
                type: "POST",
                datatype: "json",
                data: { userMaster : usermaster, userAddress : userAddress , ownerCompanyAddress : ownerCompanyAddress ,ownerStaff : staff },
                success: function (response) {
                    if (response == 'success') {
                        //$('#profilediv').toggle().toggle();
                        $('#partialpage').load("@Url.Action("ProfileProgressPartial", "Login")");
                        alert("Profile updated SuccessFully");
                    }
                    else if(response == 'staffadded')
                    {
                        //$('#staffrecords').load("@Url.Action("GetStaffRecords", "UserProfile",new { id = Request.QueryString["id"]})");
                        alert("User Added SuccessFully!!!");
                    }
                    else {
                        alert("Failed To Update Profile");
                    }
                },
                error: function (er) {
                    alert("error");
                }
            });
        }
    </script>
}

