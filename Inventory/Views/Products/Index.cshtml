
@{
    ViewBag.Title = ":: Products ::";
    Layout = "~/Views/Shared/MainMaster.cshtml";
}

@section css{
    <!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- iCheck -->
    <link href="../vendors/iCheck/skins/flat/green.css" rel="stylesheet">
    <!-- bootstrap-progressbar -->
    <link href="../vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
    <!-- JQVMap -->
    <link href="../vendors/jqvmap/dist/jqvmap.min.css" rel="stylesheet" />
    <!-- bootstrap-daterangepicker -->
    <link href="../vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet">

    <!--- Tabs in Graph Section ---->
    <link href="~/Scripts/css/reset.css" rel="stylesheet" />
    <link href="~/Scripts/css/dashboardstyles.css" rel="stylesheet" />
}
<div class="container body">
    <div class="main_container">
        <!-- page content -->
        <div class="right_col" role="main">
            <div class="container">
                <form>
                    <input type="hidden" id="meas" value=""/>
                    <div class="row">
                        <div class="form-title col-xs-12 col-md-9">Shop Products</div>
                        <div class="top-bar col-xs-12 col-md-3">
                            <div class="icons pull-right">
                                <i class="fa fa-list-ol fa-lg" aria-hidden="true" id="list-view"></i>
                                <i class="fa fa-th fa-lg" aria-hidden="true" id="grid-view"></i>
                                <i class="fa fa-refresh fa-lg" aria-hidden="true" id="refresh"></i>
                                <i class="fa fa-cog fa-lg" aria-hidden="true" id="settings"></i>
                            </div>
                        </div>
                    </div>
                    <div class="row blocks">
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <div class="content">
                                <h2>Estimate</h2>
                                <p>Rs&nbsp;10000</p>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <div class="content">
                                <h2>Unbilled Activity</h2>
                                <p>Rs&nbsp;10000</p>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <div class="content">
                                <h2>Open Invoice</h2>
                                <p>Rs&nbsp;10000</p>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-12">
                            <div class="content">
                                <h2>Over Due</h2>
                                <p>Rs&nbsp;10000</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-2">
                            <div class="row categories">
                                <div class="column col-xs-12 sidebar-offcanvas" id="sidebar">
                                    <ul class="nav" id="menu">
                                        <li class="title"><span class="collapse in">Categories</span></li>

                                        <li class="leve12">
                                            <a href="#">Meat<span class="caret"></span></a>
                                            <ul class="nav nav-stacked left-submenu">
                                                <li><a href="" onclick="getproducts('Chicken')" id="chicken">Chicken</a></li>
                                                <li><a href="" onclick="getproducts('Mutton')" id="mutton">Mutton</a></li>
                                                <li><a href="" onclick="getproducts('Seafood')" id="seafood">Seafood</a></li>

                                            </ul>
                                        </li>

                                        <li class="leve12">
                                            <a href="#">Fruits and Vegetables<span class="caret"></span></a>
                                            <ul class="nav nav-stacked left-submenu">
                                                <li><a href="" onclick="getproducts('Cuts and Sprouts')" id="cutsandsprouts">Cuts and Sprouts</a></li>
                                                <li><a href="" onclick="getproducts('flowers')" id="flowers">Flowers</a></li>
                                                <li><a href="" onclick="getproducts('Fresh Fruits')" id="fruits">Fresh Fruits</a></li>
                                                <li><a href="" onclick="getproducts('fresh Herbs and Seasonings')" id="herbs">fresh Herbs and Seasonings</a></li>
                                                <li><a href="" onclick="getproducts('Fresh Vegetables')" id="vegetables">Fresh Vegetables</a></li>
                                                <li><a href="" onclick="getproducts('International Fruits and Vegetables')" id="infruits">International Fruits and Vegetables</a></li>
                                                <li><a href="" onclick="getproducts('Organic Fruits and vegetables')" id="orgfruits">Organic Fruits and vegetables</a></li>

                                            </ul>
                                        </li>

                                        <li class="leve12">
                                            <a href="#">Grocery and Staples<span class="caret"></span></a>
                                            <ul class="nav nav-stacked left-submenu">
                                                <li><a href="" onclick="getproducts('Ayurvedic Masala and Spices')">Ayurvedic Masala and Spices</a></li>
                                                <li><a href="" onclick="getproducts('Dals and Pulses')">Dals and Pulses</a></li>
                                                <li><a href="" onclick="getproducts('Dry Fruits')">Dry Fruits</a></li>
                                                <li><a href="" onclick="getproducts('Edible Oils and Ghee')">Edible Oils and Ghee</a></li>
                                                <li><a href="" onclick="getproducts('Flours and Sooji')">Flours and Sooji</a></li>
                                                <li><a href="" onclick="getproducts('Masalas and Spices')">Masalas and Spices</a></li>
                                                <li><a href="" onclick="getproducts('Organic Staples')">Organic Staples</a></li>
                                                <li><a href="" onclick="getproducts('Rice and Rice Products')">Rice and Rice Products</a></li>
                                                <li><a href="" onclick="getproducts('Salt,Sugar and Jaggery')">Salt,Sugar and Jaggery</a></li>
                                            </ul>
                                        </li>

                                        <li class="leve12">
                                            <a href="#">Branded Foods <span class="caret"></span></a>
                                            <ul class="nav nav-stacked left-submenu">
                                                <li><a href="" onclick="getproducts('Ayurvedic Food')">Ayurvedic Food</a></li>
                                                <li><a href="" onclick="getproducts('Baby Food')">Baby Food</a></li>
                                                <li><a href="" onclick="getproducts('Baking and Dessert Items')">Baking and Dessert Items</a></li>
                                                <li><a href="" onclick="getproducts('Biscuits')">Biscuits</a></li>
                                                <li><a href="" onclick="getproducts('Breakfast Cereals')">Breakfast Cereals</a></li>
                                                <li><a href="" onclick="getproducts('Chocolates and Sweets')">Chocolates and Sweets</a></li>
                                                <li><a href="" onclick="getproducts('Health and Nutrition')">Health and Nutrition</a></li>
                                                <li><a href="" onclick="getproducts('Indian Sweets')">Indian Sweets</a></li>
                                                <li><a href="" onclick="getproducts('Jams and Spreads')">Jams and Spreads</a></li>
                                                <li><a href="" onclick="getproducts('Noodles')">Noodles</a></li>
                                                <li><a href="" onclick="getproducts('Pasta and vermicelli')">Pasta and vermicelli</a></li>
                                                <li><a href="" onclick="getproducts('Pickles')">Pickles</a></li>
                                                <li><a href="" onclick="getproducts('Ready to Eat and Cook')">Ready to Eat and Cook</a></li>
                                                <li><a href="" onclick="getproducts('Sauces and Ketchup')">Sauces and Ketchup</a></li>
                                            </ul>
                                        </li>

                                        <li class="leve12">
                                            <a href="#">Beverages<span class="caret"></span></a>
                                            <ul class="nav nav-stacked left-submenu">
                                                <li><a href="" onclick="getproducts('Ayurvedic')">Ayurvedic</a></li>
                                                <li><a href="" onclick="getproducts('Energy and Health Drinks')">Energy and Health Drinks</a></li>
                                                <li><a href="" onclick="getproducts('Fruit Drinks and Juices')">Fruit Drinks and Juices</a></li>
                                                <li><a href="" onclick="getproducts('Mineral water')">Mineral water</a></li>
                                                <li><a href="" onclick="getproducts('Organic Beverages')">Organic Beverages</a></li>
                                                <li><a href="" onclick="getproducts('Soft Dinks')">Soft Dinks</a></li>
                                                <li><a href="" onclick="getproducts('Tea and Coffee')">Tea and Coffee</a></li>
                                            </ul>
                                        </li>

                                        <li class="leve12">
                                            <a href="#">Gift Cards<span class="caret"></span></a>
                                            <ul class="nav nav-stacked left-submenu">
                                                <li><a href="" onclick="getproducts('Gift Boxes and Greeting cards')">Gift Boxes and Greeting cards</a></li>
                                                <li><a href="" onclick="getproducts('Birthday Gift Cards')">Birthday Gift Cards</a></li>
                                                <li><a href="" onclick="getproducts('Wedding and Anniversary')">Wedding and Anniversary</a></li>
                                                <li><a href="" onclick="getproducts('Best Wishes and Thankyou')">Best Wishes and Thankyou</a></li>
                                                <li><a href="" onclick="getproducts('Corporate Giftcards')">Corporate Giftcards</a></li>
                                            </ul>
                                        </li>

                                        <li class="leve12">
                                            <a href="#">Women's fashion<span class="caret"></span></a>
                                            <ul class="nav nav-stacked left-submenu">
                                                <li><a href="" onclick="getproducts('Women,s Clothing')">Women's Clothing</a></li>
                                                <li><a href="" onclick="getproducts('Accessories')">Accessories</a></li>
                                                <li><a href="" onclick="getproducts('Women,s Shoes')">Women's Shoes</a></li>
                                                <li><a href="" onclick="getproducts('Handloom and Handycraft store')">Handloom and Handycraft store</a></li>
                                            </ul>
                                        </li>

                                        <li class="leve12">
                                            <a href="#">Men's fashion<span class="caret"></span></a>
                                            <ul class="nav nav-stacked left-submenu">
                                                <li><a href="" onclick="getproducts('Men,s Clothing')">Men's Clothing</a></li>
                                                <li><a href="" onclick="getproducts('Accessories')">Accessories</a></li>
                                                <li><a href="" onclick="getproducts('Men,s Shoes')">Men's Shoes</a></li>
                                                <li><a href="" onclick="getproducts('Sports Wear')">Sports Wear</a></li>
                                            </ul>
                                        </li>

                                        <li class="leve12">
                                            <a href="#">PC and Electronics<span class="caret"></span></a>
                                            <ul class="nav nav-stacked left-submenu">
                                                <li><a href="" onclick="getproducts('Mobiles Tablets')">Mobiles Tablets</a></li>
                                                <li><a href="" onclick="getproducts('Computers and Accessories')">Computers and Accessories</a></li>
                                            </ul>
                                        </li>

                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-7">
                            @{ Html.RenderAction("allproducts", "Products");}
                        </div>
                                @{ Html.RenderAction("Addtocartpartial", "Products");}
                    </div>
                </form>
            </div>
        </div>
        <!-- /page content -->
    </div>
</div>

@section scripts{
    <!-- jQuery lib & Tabs -->
    <script src="~/Scripts/js/jquery-3.1.1.min.js"></script>
    <script src="~/Scripts/js/main.js"></script>
    <script src="~/Scripts/js/modernizr.js"></script>
    <!-- jQuery -->
    <script src="../vendors/jquery/dist/jquery.min.js"></script>

    <!-- Bootstrap -->
    <script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../build/js/custom.min.js"></script>

    <script src="~/Scripts/shopproduct.js"></script>

    <script type="text/javascript">
@*
    @*<!------------ List / Grid Views and reload page -------------->*@
        $("#grid-view").click(function (e) {
            $("#productstable").css("display", "none");
            $("#productstable1").css("display", "block");
        });

        $("#list-view").click(function (e) {
            $("#productstable").css("display", "block");
            $("#productstable1").css("display", "none");
            //location.reload();
        });

        $("#refresh").click(function (e) {
            location.reload();
        });
        //<!------------ List / Grid Views and reload page -------------->

        //<!------------ Left Side Bar ------------------->
      
  $(document).ready(function(e) {
      var tableprice, divprice, tabletotal, divtotal;
      $('.spinner .btn:first-of-type').click(function(){
          var plus, v;
          v = parseInt($(this).parent("div").prev("input[type='text']").val());

          if(v > 0){
              plus = v + 1;
              $(this).parent("div").prev("input[type='text']").val(plus);
              tableprice = parseInt($(this).parents(".quantity-changes").nextAll(".product-price").children("span").text());
              divprice = parseInt($(this).parents(".rate-add").children(".product-price").children("span").text());

              tabletotal = plus * tableprice;
              divtotal = plus * divprice;
              $(this).parents(".quantity-changes").nextAll(".product-price-total").children("span").remove();
              $(this).parents(".quantity-changes").nextAll(".product-price-total").append("<span>" + tabletotal + "</span>");
              $(this).parents(".rate-add").children(".product-price-total").children("span").remove();
              $(this).parents(".rate-add").children(".product-price-total").append("<span>" + divtotal + "</span>");
          }
          return vals();
      });
      $('.spinner .btn:last-of-type').click(function(){
          var minus, v;
          v = parseInt($(this).parent("div").prev("input[type='text']").val());

          if(v > 1){
              minus = v - 1;
              $(this).parent("div").prev("input[type='text']").val(minus);
              tableprice = parseInt($(this).parents(".quantity-changes").nextAll(".product-price").children("span").text());;
              divprice = parseInt($(this).parents(".rate-add").children(".product-price").children("span").text());
              tabletotal = minus * tableprice;
              divtotal = minus * divprice;$(this).parents(".quantity-changes").nextAll(".product-price-total").children("span").remove();
              $(this).parents(".quantity-changes").nextAll(".product-price-total").append("<span>" + tabletotal + "</span>");
              $(this).parents(".rate-add").children(".product-price-total").children("span").remove();
              $(this).parents(".rate-add").children(".product-price-total").append("<span>" + divtotal + "</span>");
          }
          return vals();
      });

      $("select").on('change',function(){
          var v = $(this).children("option:selected").text().split("₹")[1];
          $(this).parents(".product-variation").nextAll(".rate-add").children(".product-price").empty().append("₹"+"<span>" + v + "</span>");
          $(this).parents(".product-variation").nextAll(".rate-add").children(".product-price-total").empty().append("₹"+"<span>" + v + "</span>");
          $(this).parents(".product-variation").nextAll(".product-price").empty().append("Rs "+"<span>" + v + "</span>");
          $(this).parents(".product-variation").nextAll(".product-price-total").empty().append("Rs "+"<span>" + v + "</span>");

      });
  });

//var url = 'Products/Addtocartpartial';
//$('#cartrecords').load(url);
    //<!------------ Quantity changes / Prices Multiple -------------->

    function vals() {
        var total, totalquantity = 0, productprice, carttotal = 0;
        $(".added-products .spinner input[type='text']").each(function () {
            total = parseInt($(this).val());
            totalquantity = total + totalquantity;
        });
        $(".added-products .product-price-total span").each(function () {
            productprice = parseInt($(this).text());
            carttotal = productprice + carttotal;
        });
        $(".cart-total span").remove();
        $(".cart-total").append("<span>" + carttotal + "</span>");
        $(".cart-icn span").remove();
        $(".cart-icn").append("<span>" + totalquantity + "</span>");
    }

    $(".add-to-cart-table > .btn, .add-to-cart > .btn").click(function () {
        return vals();

    });

    $(".remove").click(function () {
        $(this).parents("div.well,tr").remove();
        return vals();

    });

    //  //<!---------- Scroll Anima Right-Side-Bar ------------>

    $(window).scroll(function () {
        var scrollTop = $(window).scrollTop();
        if (scrollTop <= 250) {
            $(".checkout").css("top", "250px");
        } else if (scrollTop > 250) {
            $(".checkout").css("top", "50px");
        }
    });

    //  //<!---------- Scroll Anima Right-Side-Bar ------------>
    //<!---------- Scroll Anima Right-Side-Bar ------------>

    $(window).scroll(function () {
        var scrollTop = $(window).scrollTop();
        if (scrollTop <= 250) {
            $(".checkout").css("top", "250px");
        } else if (scrollTop > 250) {
            $(".checkout").css("top", "50px");
        }
    });

    if (window.matchMedia('(max-width: 768px)').matches) {
        $(window).scroll(function () {
            $(".checkout").css({ "right": "40px", "top": "30%" });
        });
    }

    if (window.matchMedia('(max-width: "480px")').matches) {

        $(window).scroll(function () {
            $(".checkout").css({ "right": "40px", "top": "20%" });

        });

    }

    //<!---------- Scroll Anima Right-Side-Bar ------------>

    //<!---------- mobile cart ------------>
    $(".mobile-cart").click(function () {
        $(this).toggleClass(" rotate");
        if ($(this).hasClass("rotate")) {
            $(".checkout").css({ "opacity": "1", "top": "20%", "right": "40px", "z-index": "2" });
            $(this).children("i.fa-shopping-cart").css("display", "none");
            $(this).children("i.fa-times").css("display", "block");
        } else {
            $(".checkout").css({ "opacity": "0", "z-index": "-99" });
            $(this).children("i.fa-shopping-cart").css("display", "block");
            $(this).children("i.fa-times").css("display", "none");
        }
        // $(".checkout").parent("div").css("position","fixed");
    });
    //<!---------- mobile cart ------------>

    $("#sidebar li.leve12, #sidebar li").click(function () {
        $(this).children("a").css("font-weight", "700");
        $(this).children("ul.left-submenu").toggle("slow");
        $(this).nextAll("li").children("a").css("font-weight", "normal");
        $(this).prevAll("li").children("a").css("font-weight", "normal");
        $(this).nextAll("li").children("ul.left-submenu").css("display", "none");
        $(this).prevAll("li").children("ul.left-submenu").css("display", "none");
    });
    $("#sidebar li.leve12 ul.left-submenu li").click(function () {
        $(this).parent("ul.left-submenu").css("display", "block");
        $(this).children("a").css("color", "#0288d1");
        return false;
    });

    </script>
    //<!----------- Quantity Add in Right Bar ---------------->
}

